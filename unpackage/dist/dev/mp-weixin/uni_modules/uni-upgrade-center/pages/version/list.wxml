<view class="main"><block wx:if="{{loaded}}"><view><view class="uni-header"><view class="uni-group"><view class="uni-sub-title">当前应用：</view><view class="uni-title app-list"><picker value="{{showAppIndex}}" range="{{appNameList}}" data-event-opts="{{[['change',[['e0',['$event']]]]]}}" bindchange="__e"><view class="uni-input" style="font-size:14px;">{{''+appNameList[showAppIndex]+''}}<uni-icons vue-id="702069cf-1" type="bottom" bind:__l="__l"></uni-icons></view></picker></view></view><view class="uni-group"><input class="uni-search" type="text" placeholder="请输入搜索内容" data-event-opts="{{[['confirm',[['search',['$event']]]],['input',[['__set_model',['','query','$event',[]]]]]]}}" value="{{query}}" bindconfirm="__e" bindinput="__e"/><button class="uni-button" type="default" size="mini" data-event-opts="{{[['tap',[['search',['$event']]]]]}}" bindtap="__e">搜索</button><button class="uni-button publish" type="primary" size="mini" data-event-opts="{{[['tap',[['publish',['$event']]]]]}}" bindtap="__e">发布新版</button><button class="uni-button" type="warn" size="mini" disabled="{{!$root.g0}}" data-event-opts="{{[['tap',[['delTable',['$event']]]]]}}" bindtap="__e">批量删除</button></view></view><view class="uni-container"><unicloud-db scoped-slots-compiler="augmented" class="vue-ref" vue-id="702069cf-2" collection="{{appVersionListDbName}}" field="store_list,appid,contents,platform,type,version,min_uni_version,url,stable_publish,create_date,title,name" where="{{where}}" page-data="replace" orderby="{{orderby}}" getcount="{{true}}" page-size="{{options.pageSize}}" page-current="{{options.pageCurrent}}" options="{{options}}" data-ref="udb" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$root.m0}}"><uni-table style="overflow-y:hidden;" vue-id="{{('702069cf-3')+','+('702069cf-2')}}" loading="{{$root.m1}}" emptyText="{{$root.m2}}" border="{{true}}" stripe="{{true}}" type="selection" data-event-opts="{{[['^selectionChange',[['selectionChange']]]]}}" bind:selectionChange="__e" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr vue-id="{{('702069cf-4')+','+('702069cf-3')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th vue-id="{{('702069cf-5')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">AppID</uni-th><uni-th vue-id="{{('702069cf-6')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">更新标题</uni-th><uni-th vue-id="{{('702069cf-7')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">安装包类型</uni-th><uni-th vue-id="{{('702069cf-8')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">平台</uni-th><uni-th vue-id="{{('702069cf-9')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">已上架应用市场</uni-th><uni-th vue-id="{{('702069cf-10')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">版本号</uni-th><uni-th vue-id="{{('702069cf-11')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">安装包状态</uni-th><uni-th vue-id="{{('702069cf-12')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">上传时间</uni-th><uni-th vue-id="{{('702069cf-13')+','+('702069cf-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('702069cf-14-'+index)+','+('702069cf-3')}}" disabled="{{item.$orig.stable_publish}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('702069cf-15-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{''+item.$orig.appid+''}}</uni-td><uni-td vue-id="{{('702069cf-16-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{''+(item.$orig.title||'-')+''}}</uni-td><uni-td vue-id="{{('702069cf-17-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><text style="{{'padding:'+('5px 8px')+';'+('background-color:'+(item.$orig.type==='wgt'?'#f0f9eb':'#ecf5ff')+';')+('color:'+(item.$orig.type==='wgt'?'#67c23a':'#409eff')+';')+('border:'+('1px solid '+(item.$orig.type==='wgt'?'#e1f3d8':'#d9ecff'))+';')+('border-radius:'+('4px')+';')}}">{{options.type_valuetotext[item.$orig.type]}}</text></uni-td><uni-td vue-id="{{('702069cf-18-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><uni-data-picker vue-id="{{('702069cf-19-'+index)+','+('702069cf-18-'+index)}}" localdata="{{options.platform_valuetotext}}" value="{{item.$orig.platform}}" border="{{false}}" readonly="{{true}}" split="," bind:__l="__l"></uni-data-picker></uni-td><uni-td vue-id="{{('702069cf-20-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><text>{{item.m3}}</text></uni-td><uni-td vue-id="{{('702069cf-21-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{''+item.$orig.version+''}}</uni-td><uni-td vue-id="{{('702069cf-22-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{''+(item.$orig.stable_publish==true?'已上线':'已下线')+''}}</uni-td><uni-td vue-id="{{('702069cf-23-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><uni-dateformat vue-id="{{('702069cf-24-'+index)+','+('702069cf-23-'+index)}}" format="yyyy-MM-dd hh:mm:ss" date="{{item.$orig.create_date}}" threshold="{{[0,0]}}" bind:__l="__l"></uni-dateformat></uni-td><uni-td vue-id="{{('702069cf-25-'+index)+','+('702069cf-14-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><button class="uni-button" size="mini" type="primary" data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" bindtap="__e">详情</button></uni-td></uni-tr></block></uni-table><view class="uni-pagination-box"><uni-pagination vue-id="{{('702069cf-26')+','+('702069cf-2')}}" show-icon="{{true}}" page-size="{{$root.m4.size}}" total="{{$root.m5.count}}" value="{{$root.m6.current}}" data-event-opts="{{[['^change',[['onPageChanged']]],['^input',[['__set_model',['$0','current','$event',[]],['pagination']]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-pagination></view></block></unicloud-db></view></view></block><block wx:else><view class="page-loading" style="{{(containerTop)}}"><view class="uni-icon_toast uni-loading _i"></view></view></block></view>