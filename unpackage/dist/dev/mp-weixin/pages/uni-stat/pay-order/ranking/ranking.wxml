<view class="data-v-6ffa7172"><view class="uni-header data-v-6ffa7172"><view class="uni-group data-v-6ffa7172"><uni-stat-breadcrumb vue-id="e1578458-1" class="data-v-6ffa7172" bind:__l="__l"></uni-stat-breadcrumb></view><view class="uni-group data-v-6ffa7172"><button class="uni-button data-v-6ffa7172" type="default" size="mini" data-event-opts="{{[['tap',[['search',['$event']]]]]}}" bindtap="__e">搜索</button><download-excel class="hide-on-phone data-v-6ffa7172" vue-id="e1578458-2" fields="{{exportExcel.fields}}" data="{{exportExcelData}}" type="{{exportExcel.type}}" name="{{exportExcel.filename}}" bind:__l="__l" vue-slots="{{['default']}}"><button class="uni-button data-v-6ffa7172" type="primary" size="mini">导出 Excel</button></download-excel></view></view><view class="uni-container data-v-6ffa7172"><view class="uni-stat--x flex p-1015 data-v-6ffa7172"><uni-data-select bind:input="__e" vue-id="e1578458-3" collection="opendb-app-list" field="appid as value, name as text" orderby="text asc" defItem="{{1}}" label="应用选择" clear="{{false}}" value="{{query.appid}}" data-event-opts="{{[['^input',[['__set_model',['$0','appid','$event',[]],['query']]]]]}}" class="data-v-6ffa7172" bind:__l="__l"></uni-data-select><uni-data-select bind:input="__e" class="ml-m data-v-6ffa7172" vue-id="e1578458-4" collection="opendb-app-versions" where="{{versionQuery}}" field="_id as value, version as text, uni_platform as label, create_date as date" format="{label} - {text}" orderby="date desc" label="版本选择" value="{{query.version_id}}" data-event-opts="{{[['^input',[['__set_model',['$0','version_id','$event',[]],['query']]]]]}}" bind:__l="__l"></uni-data-select></view><view class="uni-stat--x data-v-6ffa7172" style="margin-bottom:0;"><uni-stat-tabs vue-id="e1578458-5" label="平台选择" type="boldLine" mode="platform" value="{{query.platform_id}}" data-event-opts="{{[['^change',[['platformChange']]],['^input',[['__set_model',['$0','platform_id','$event',[]],['query']]]]]}}" bind:change="__e" bind:input="__e" class="data-v-6ffa7172" bind:__l="__l"></uni-stat-tabs><block wx:if="{{$root.g0}}"><uni-data-select bind:input="__e" class="p-channel data-v-6ffa7172 vue-ref" vue-id="e1578458-6" collection="uni-stat-app-channels" where="{{channelQuery}}" field="channel_code as value, channel_name as text" orderby="text asc" label="渠道/场景值选择" data-ref="version-select" value="{{query.channel_code}}" data-event-opts="{{[['^input',[['__set_model',['$0','channel_code','$event',[]],['query']]]]]}}" bind:__l="__l"></uni-data-select></block></view><view class="flex data-v-6ffa7172"><uni-stat-tabs vue-id="e1578458-7" type="box" current="{{dateTabs.index}}" tabs="{{dateTabs.list}}" data-event-opts="{{[['^change',[['dateTabsChange']]]]}}" bind:change="__e" class="data-v-6ffa7172" bind:__l="__l"></uni-stat-tabs><uni-datetime-picker class="uni-stat-datetime-picker data-v-6ffa7172" vue-id="e1578458-8" type="daterange" end="{{$root.g1}}" return-type="timestamp" clear-icon="{{true}}" value="{{query.pay_date}}" data-event-opts="{{[['^change',[['e0']]],['^input',[['__set_model',['$0','pay_date','$event',[]],['query']]]]]}}" bind:change="__e" bind:input="__e" bind:__l="__l"></uni-datetime-picker></view><unicloud-db scoped-slots-compiler="augmented" vue-id="e1578458-9" collection="{{collectionList}}" field="user_id,nickname,uni_platform,status,total_fee,refund_fee,appid,pay_date" where="{{where}}" page-data="replace" orderby="{{orderby}}" getcount="{{true}}" page-size="{{options.pageSize}}" page-current="{{options.pageCurrent}}" groupby="user_id" group-field="sum(total_fee) as total_fee,sum(refund_fee) as refund_fee, sum(subtract(total_fee,refund_fee)) as reality_fee, sum(1) as count,last(nickname) as nickname" options="{{options}}" loadtime="manual" data-ref="udb" data-event-opts="{{[['^load',[['onqueryload']]]]}}" bind:load="__e" class="data-v-6ffa7172 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$root.m0}}"><uni-table style="min-height:900px;" vue-id="{{('e1578458-10')+','+('e1578458-9')}}" loading="{{$root.m1}}" emptyText="{{$root.m2?'请求中...':'没有更多数据'}}" border="{{true}}" stripe="{{true}}" type data-ref="table" data-event-opts="{{[['^selectionChange',[['selectionChange']]]]}}" bind:selectionChange="__e" class="data-v-6ffa7172 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr vue-id="{{('e1578458-11')+','+('e1578458-10')}}" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}"><uni-th vue-id="{{('e1578458-12')+','+('e1578458-11')}}" align="center" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}">排名</uni-th><uni-th vue-id="{{('e1578458-13')+','+('e1578458-11')}}" align="center" sortable="{{true}}" data-event-opts="{{[['^sortChange',[['sortChange',['$event','user_id']]]]]}}" bind:sortChange="__e" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}">用户</uni-th><uni-th vue-id="{{('e1578458-14')+','+('e1578458-11')}}" align="center" sortable="{{true}}" data-event-opts="{{[['^sortChange',[['sortChange',['$event','reality_fee']]]]]}}" bind:sortChange="__e" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}">支付金额（不含退款）</uni-th><uni-th vue-id="{{('e1578458-15')+','+('e1578458-11')}}" align="center" sortable="{{true}}" data-event-opts="{{[['^sortChange',[['sortChange',['$event','count']]]]]}}" bind:sortChange="__e" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}">订单数量</uni-th></uni-tr><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('e1578458-16-'+index)+','+('e1578458-10')}}" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('e1578458-17-'+index)+','+('e1578458-16-'+index)}}" align="center" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}">{{item.m3+''}}</uni-td><uni-td vue-id="{{('e1578458-18-'+index)+','+('e1578458-16-'+index)}}" align="center" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}"><text data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="text-btn data-v-6ffa7172" bindtap="__e">{{item.m4}}</text></uni-td><uni-td vue-id="{{('e1578458-19-'+index)+','+('e1578458-16-'+index)}}" align="center" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}">{{item.g2}}</uni-td><uni-td vue-id="{{('e1578458-20-'+index)+','+('e1578458-16-'+index)}}" align="center" class="data-v-6ffa7172" bind:__l="__l" vue-slots="{{['default']}}"><text data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" class="text-btn data-v-6ffa7172" bindtap="__e">{{''+item.$orig.count+''}}</text></uni-td></uni-tr></block></uni-table><view class="uni-pagination-box data-v-6ffa7172"><uni-pagination vue-id="{{('e1578458-21')+','+('e1578458-9')}}" show-icon="{{true}}" page-size="{{$root.m5.size}}" total="{{$root.m6.count}}" value="{{$root.m7.current}}" data-event-opts="{{[['^change',[['onPageChanged']]],['^input',[['__set_model',['$0','current','$event',[]],['pagination']]]]]}}" bind:change="__e" bind:input="__e" class="data-v-6ffa7172" bind:__l="__l"></uni-pagination></view></block></unicloud-db></view></view>