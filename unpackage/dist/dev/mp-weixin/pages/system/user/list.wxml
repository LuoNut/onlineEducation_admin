<view class="fix-top-window"><view class="uni-header"><uni-stat-breadcrumb class="uni-stat-breadcrumb-on-phone" vue-id="8d335f2a-1" bind:__l="__l"></uni-stat-breadcrumb><view class="uni-group"><input class="uni-search" type="text" placeholder="{{$root.m0}}" data-event-opts="{{[['confirm',[['search',['$event']]]],['input',[['__set_model',['','query','$event',[]]]]]]}}" value="{{query}}" bindconfirm="__e" bindinput="__e"/><button class="uni-button hide-on-phone" type="default" size="mini" data-event-opts="{{[['tap',[['search',['$event']]]]]}}" bindtap="__e">{{$root.m1}}</button><button class="uni-button" type="primary" size="mini" data-event-opts="{{[['tap',[['navigateTo',['./add']]]]]}}" bindtap="__e">{{$root.m2}}</button><button class="uni-button" type="warn" size="mini" disabled="{{!$root.g0}}" data-event-opts="{{[['tap',[['delTable',['$event']]]]]}}" bindtap="__e">{{$root.m3}}</button><button class="uni-button" type="primary" size="mini" disabled="{{!$root.g1}}" data-event-opts="{{[['tap',[['openTagsPopup',['$event']]]]]}}" bindtap="__e">{{$root.m4}}</button></view></view><view class="uni-container"><unicloud-db scoped-slots-compiler="augmented" class="vue-ref" vue-id="8d335f2a-2" collection="{{collectionList}}" where="{{where}}" page-data="replace" orderby="{{orderby}}" getcount="{{true}}" page-size="{{options.pageSize}}" page-current="{{options.pageCurrent}}" options="{{options}}" loadtime="manual" data-ref="udb" data-event-opts="{{[['^load',[['onqueryload']]]]}}" bind:load="__e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$root.m5}}"><uni-table class="vue-ref" vue-id="{{('8d335f2a-3')+','+('8d335f2a-2')}}" loading="{{$root.m6}}" emptyText="{{$root.m7}}" border="{{true}}" stripe="{{true}}" type="selection" data-ref="table" data-event-opts="{{[['^selectionChange',[['selectionChange']]]]}}" bind:selectionChange="__e" bind:__l="__l" vue-slots="{{['default']}}"><uni-tr vue-id="{{('8d335f2a-4')+','+('8d335f2a-3')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-th vue-id="{{('8d335f2a-5')+','+('8d335f2a-4')}}" align="center" filter-type="search" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','username']]]],['^sortChange',[['sortChange',['$event','username']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">用户名</uni-th><uni-th vue-id="{{('8d335f2a-6')+','+('8d335f2a-4')}}" align="center" filter-type="search" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','nickname']]]],['^sortChange',[['sortChange',['$event','nickname']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">用户昵称</uni-th><uni-th vue-id="{{('8d335f2a-7')+','+('8d335f2a-4')}}" align="center" filter-type="search" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','mobile']]]],['^sortChange',[['sortChange',['$event','mobile']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">手机号码</uni-th><uni-th vue-id="{{('8d335f2a-8')+','+('8d335f2a-4')}}" align="center" filter-type="select" filter-data="{{$root.m8.filterData.status_localdata}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','status']]]]]}}" bind:filterChange="__e" bind:__l="__l" vue-slots="{{['default']}}">用户状态</uni-th><uni-th vue-id="{{('8d335f2a-9')+','+('8d335f2a-4')}}" align="center" filter-type="search" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','email']]]],['^sortChange',[['sortChange',['$event','email']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">邮箱</uni-th><uni-th vue-id="{{('8d335f2a-10')+','+('8d335f2a-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">角色</uni-th><uni-th vue-id="{{('8d335f2a-11')+','+('8d335f2a-4')}}" align="center" filter-type="select" filter-data="{{tagsData}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','tags']]]]]}}" bind:filterChange="__e" bind:__l="__l" vue-slots="{{['default']}}">用户标签</uni-th><uni-th vue-id="{{('8d335f2a-12')+','+('8d335f2a-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">可登录应用</uni-th><uni-th vue-id="{{('8d335f2a-13')+','+('8d335f2a-4')}}" align="center" filter-type="timestamp" sortable="{{true}}" data-event-opts="{{[['^filterChange',[['filterChange',['$event','last_login_date']]]],['^sortChange',[['sortChange',['$event','last_login_date']]]]]}}" bind:filterChange="__e" bind:sortChange="__e" bind:__l="__l" vue-slots="{{['default']}}">最后登录时间</uni-th><uni-th vue-id="{{('8d335f2a-14')+','+('8d335f2a-4')}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">操作</uni-th></uni-tr><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-tr vue-id="{{('8d335f2a-15-'+index)+','+('8d335f2a-3')}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-td vue-id="{{('8d335f2a-16-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.username}}</uni-td><uni-td vue-id="{{('8d335f2a-17-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.nickname}}</uni-td><uni-td vue-id="{{('8d335f2a-18-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{item.$orig.mobile}}</uni-td><uni-td vue-id="{{('8d335f2a-19-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{options.status_valuetotext[item.$orig.status]}}</uni-td><uni-td vue-id="{{('8d335f2a-20-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><uni-link vue-id="{{('8d335f2a-21-'+index)+','+('8d335f2a-20-'+index)}}" href="{{'mailto:'+item.$orig.email}}" text="{{item.$orig.email}}" bind:__l="__l"></uni-link></uni-td><uni-td vue-id="{{('8d335f2a-22-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}">{{''+item.$orig.role}}</uni-td><uni-td vue-id="{{('8d335f2a-23-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{item.$orig.tags}}" wx:for-item="tag" wx:for-index="tagIndex" wx:key="tagIndex"><block><block wx:if="{{item.$orig.tags}}"><uni-tag style="margin:0 5px;" vue-id="{{('8d335f2a-24-'+index+'-'+tagIndex)+','+('8d335f2a-23-'+index)}}" type="primary" inverted="{{true}}" size="small" text="{{tag}}" bind:__l="__l"></uni-tag></block></block></block></uni-td><uni-td vue-id="{{('8d335f2a-25-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{item.$orig.dcloud_appid===undefined}}"><uni-link vue-id="{{('8d335f2a-26-'+index)+','+('8d335f2a-25-'+index)}}" href="{{noAppidWhatShouldIDoLink}}" bind:__l="__l" vue-slots="{{['default']}}">未绑定可登录应用<view class="uni-icons-help"></view></uni-link></block>{{''+item.$orig.dcloud_appid+''}}</uni-td><uni-td vue-id="{{('8d335f2a-27-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><uni-dateformat vue-id="{{('8d335f2a-28-'+index)+','+('8d335f2a-27-'+index)}}" threshold="{{[0,0]}}" date="{{item.$orig.last_login_date}}" bind:__l="__l"></uni-dateformat></uni-td><uni-td vue-id="{{('8d335f2a-29-'+index)+','+('8d335f2a-15-'+index)}}" align="center" bind:__l="__l" vue-slots="{{['default']}}"><view class="uni-group"><button class="uni-button" size="mini" type="primary" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" bindtap="__e">{{item.m9}}</button><button class="uni-button" size="mini" type="warn" data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" data-event-params="{{({item:item.$orig})}}" bindtap="__e">{{item.m10}}</button></view></uni-td></uni-tr></block></uni-table><view class="uni-pagination-box"><uni-pagination vue-id="{{('8d335f2a-30')+','+('8d335f2a-2')}}" show-iconn="{{true}}" show-page-size="{{true}}" page-size="{{$root.m11.size}}" total="{{$root.m12.count}}" value="{{$root.m13.current}}" data-event-opts="{{[['^change',[['onPageChanged']]],['^pageSizeChange',[['changeSize']]],['^input',[['__set_model',['$0','current','$event',[]],['pagination']]]]]}}" bind:change="__e" bind:pageSizeChange="__e" bind:input="__e" bind:__l="__l"></uni-pagination></view></block></unicloud-db></view><fix-window vue-id="8d335f2a-31" bind:__l="__l"></fix-window><uni-popup class="vue-ref" vue-id="8d335f2a-32" type="center" data-ref="tagsPopup" bind:__l="__l" vue-slots="{{['default']}}"><view class="tags-manager--x"><view class="tags-manager--header mb">管理标签</view><uni-data-checkbox bind:input="__e" class="mb ml vue-ref" vue-id="{{('8d335f2a-33')+','+('8d335f2a-32')}}" multiple="{{true}}" collection="uni-id-tag" field="tagid as value, name as text" data-ref="checkbox" value="{{managerTags}}" data-event-opts="{{[['^input',[['__set_model',['','managerTags','$event',[]]]]]]}}" bind:__l="__l"></uni-data-checkbox><view class="uni-group"><button class="uni-button" style="margin-right:75px;" type="primary" data-event-opts="{{[['tap',[['managerMultiTag',['$event']]]]]}}" bindtap="__e">保存</button></view></view></uni-popup></view>