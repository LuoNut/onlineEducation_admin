{"version":3,"sources":["uni-app:///main.js","webpack:///D:/桌面/onlineEducation1_admin/pages/auditTeacher/auditTeacher.vue?a4e2","webpack:///D:/桌面/onlineEducation1_admin/pages/auditTeacher/auditTeacher.vue?bf0e","webpack:///D:/桌面/onlineEducation1_admin/pages/auditTeacher/auditTeacher.vue?c393","webpack:///D:/桌面/onlineEducation1_admin/pages/auditTeacher/auditTeacher.vue?c32b","uni-app:///pages/auditTeacher/auditTeacher.vue","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms/uni-forms.vue?d98d","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms/uni-forms.vue?af20","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms/uni-forms.vue?5941","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms/uni-forms.vue?af17","uni-app:///uni_modules/uni-forms/components/uni-forms/uni-forms.vue","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms/uni-forms.vue?7046","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms/uni-forms.vue?b25c","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue?36d1","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue?31b4","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue?923d","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue?479c","uni-app:///uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue?3980","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue?e736","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue?e5ed","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue?c698","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue?0520","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue?a7a6","uni-app:///uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue?75eb","webpack:///D:/桌面/onlineEducation1_admin/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue?0d21","webpack:///D:/桌面/onlineEducation1_admin/pages/auditTeacher/auditTeacher.vue?ad95","webpack:///D:/桌面/onlineEducation1_admin/pages/auditTeacher/auditTeacher.vue?0fd3"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","collectionList","query","where","orderby","orderByFieldName","selectedIndexs","pageSizeIndex","pageSizeOption","tags","managerTags","queryTagid","queryUserId","options","pageSize","pageCurrent","filterData","enumConverter","imageStyles","width","height","exportExcel","exportExcelData","noAppidWhatShouldIDoLink","smsCondition","onLoad","filterType","filter","onReady","computed","tagsData","value","text","tag","dynamic_data","smsReceiver","methods","getApproved","uniCloud","name","e","then","console","onqueryload","item","changeSize","openTagsPopup","closeTagsPopup","getWhere","JSON","db","dbSearchFields","search","loadData","clear","onPageChanged","current","navigateTo","uni","url","events","refreshData","selectedItems","delTable","success","selectionChange","confirmDelete","sortChange","filterChange","type","loadTags","res","title","content","showCancel","managerMultiTag","_id","duration","Vue","formVm","emits","virtualHost","props","default","modelValue","model","rules","errShowType","validateTrigger","labelPosition","labelWidth","labelAlign","border","provide","uniForm","formData","formRules","localData","watch","handler","deep","immediate","created","setRules","setValue","validate","validateField","invalidFields","clearValidate","submit","i","checkAll","childrens","callback","promise","results","tempFormData","child","result","keepitem","detail","errors","resetFormData","validateCheck","_getValue","_isRequiredField","_setDataValue","_getDataValue","_realName","_isRealName","_isEqual","uniFormItem","inject","form","from","required","label","errorMessage","leftIcon","iconColor","errMsg","userRules","localLabelAlign","localLabelWidth","localLabelPos","isFirstBorder","msg","destroyed","onFieldChange","formtrigger","ruleLen","isRequiredField","icon","init","validator","unInit","itemSetValue","_isRequired","_justifyContent","_labelWidthUnit","_labelPosition","isTrigger","num2px","classess","style","prop","event","formItem","clearable","autoHeight","placeholder","placeholderStyle","focus","disabled","maxlength","confirmType","clearSize","inputBorder","prefixIcon","suffixIcon","trim","cursorSpacing","passwordIcon","primaryColor","styles","color","backgroundColor","disableColor","borderColor","focused","val","showMsg","showClearIcon","showPassword","focusShow","localMsg","isEnter","isVal","inputMaxlength","boxStyle","inputContentClass","inputContentStyle","inputStyle","mounted","onClickIcon","onEyes","onInput","onFocus","_Focus","onBlur","_Blur","onConfirm","onClear","onkeyboardheightchange","trimStr"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,qBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gTAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,mWAEN;AACP,KAAK;AACL;AACA,aAAa,mWAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,wUAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjJA;AAAA;AAAA;AAAA;AAAymB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC+F7nB;AAIA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACA;EACA;AACA;AAAA,eAGA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;UACA;YACA;YACA;YACA;UACA,GACA;YACA;YACA;UACA,GACA;YACA;YACA;UACA,GACA;YACA;YACA;UACA;QAEA;MAAA,GACAC,0BACA;MACAC;QACAC;QACAC;MACA;MACAC;QACA;QACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;MACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;IACA;IAEA;MACA;MACA;QACAC;QACAC;MACA;MACA;IACA;IAEA;MACA;MACA;QACAD;QACAC;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;QACA;UACAC;UACAC;QACA;QACA;UACAC;QACA;QACAC;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;UAAA;QAAA;MACA;QACA;MACA;IACA;EACA;EACAC;IAEA;IACAC;MACAC;QACAC;QACAvC;UAAAwC;QAAA;MACA,GACAC;QACAC;MACA;IACA;IAGAC;MAAA;MACA;QACA;QACA;UAAA;QAAA;QACAC;QACA;UAAA;QAAA;QACAA;QACA;UACAA;QACA;QACAA;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACA;MACA;MACA;MAEAN,YACAO,eACAC,cACAC;QACA,yCACAZ;MAEA,GACA,CACA,CACA;MAEA,qBACAY;QACA,yCACAZ;MAEA,GACA;MACA;QAAA;MAAA;IACA;IACAa;MAAA;MACA;MAEA;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACAC;MACA;IACA;IACAC;MACA;MACA;MACA;QACAC;MACA;IACA;IACAC;MAAA;MACA;MACAC;QACAC;QACAC;UACAC;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;IACA;IACA;IACAC;MAAA;MACA;QACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QACAF;UACA;QACA;MACA;IACA;IACAG;MAAA;MACA;MACA;QACA;MACA;QACA;MACA;MACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACAC;QACAtC;MACA;MACA;MAEA;QACA;MACA;QACA;MACA;;MAEA;MACA;QACA;MACA;QACA;MACA;MAEA;QACA;MACA;IACA;IACAuC;MAAA;MACApB;QACAqB;UACA;QACA;MACA;QACAb;UACAc;UACAC;UACAC;QACA;MACA;IACA;IACAC;MAAA;MACA;MAEAzB;QACA0B;MACA;QACAnE;MACA;QACAiD;UACAc;UACAK;QACA;QACA;QACA;QACA;QACA;MACA;QACAnB;UACAe;UACAC;QACA;MACA;QACAhB;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAooB,CAAgB,mnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACSxpB;AACA;AAcA;;;;;;;;;;AADA;;AAEAoB;EACA;IACA;EACA;IACA;IACA;MACA;MACA;QACAC;QACA;MACA;IACA;IACA;IACAA;EACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA,gBAwBA;EACAxC;EACAyC;EACAnE;IACAoE;EACA;EACAC;IACA;IACAnD;MACAsC;MACAc;QACA;MACA;IACA;IACA;IACAC;MACAf;MACAc;QACA;MACA;IACA;IACA;IACAE;MACAhB;MACAc;QACA;MACA;IACA;IACA;IACAG;MACAjB;MACAc;QACA;MACA;IACA;IACA;IACAI;MACAlB;MACAc;IACA;IACA;IACAK;MACAnB;MACAc;IACA;IACA;IACAM;MACApB;MACAc;IACA;IACA;IACAO;MACArB;MACAc;IACA;IACA;IACAQ;MACAtB;MACAc;IACA;IACAS;MACAvB;MACAc;IACA;EACA;EACAU;IACA;MACAC;IACA;EACA;EACA9F;IACA;MACA;MACA+F;MACAC;IACA;EACA;EACAnE;IACA;IACAoE;MACA;MACA;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACAZ;MACAa;QACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;IAuBA;IACA;IACA;IACA;IACA;EACA;EACAlE;IACA;AACA;AACA;AACA;AACA;IACAmE;MACA;MACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;QAAA;MAAA;MACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;IACAC;MAAA;MAAA;MAAA;MACAxB;MACA;MACA;QACA;QACA;UACAyB,mFACApE,4BACA;QACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAqE;MAAA;MACA1B;MACA;QACA;UACAtC;QACA;UACA;UACA;YACAA;UACA;QACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;AACA;AACA;IACAiE;MAAA;MAAA,2BACAC;QACA;UAAA;QAAA;QACA;UACA;YACA;UACA;QACA;MAAA;MANA;QAAA;MAOA;MAEA;QACApE;MACA;MAEA;IACA;IAEA;IACAqE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,IAEA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACAC,gBACA;gBAAA,yBACAF;kBACA;oBAAA;kBAAA;kBACA;oBACAE;kBACA;gBAAA;gBAJA;kBAAA;gBAKA;;gBAEA;gBACA;kBACAC;gBACA;gBAGA;gBACA;kBACAC;oBACAD;sBACA;oBACA;kBACA;gBACA;gBAEAE,cACA;gBACAC,0DACA;gBAAA,wCACAJ;cAAA;gBAAA;kBAAA;kBAAA;gBAAA;gBAAAF;gBACAO;gBACA9E;gBAAA;gBAAA,OACA8E;cAAA;gBAAAC;gBAAA,KACAA;kBAAA;kBAAA;gBAAA;gBACAH;gBACA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAKA;kBACA;gBACA;gBACA;kBACAI;oBACA;oBACA;oBACA;sBACAH;oBACA;kBACA;gBACA;;gBAEA;gBACA;kBACA;oBACAI;sBACAzF;sBACA0F;oBACA;kBACA;gBACA;kBACA;gBACA;;gBAEA;gBACAC;gBACAA;gBACAT;gBAAA,MAEAC;kBAAA;kBAAA;gBAAA;gBAAA,iCACAA;cAAA;gBAAA,iCAEA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IAEA;AACA;AACA;AACA;IACAS;MACA;IACA;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;AACA;AAAA,4B;;;;;;;;;;;;ACvYA;AAAA;AAAA;AAAA;AAAusC,CAAgB,kmCAAG,EAAC,C;;;;;;;;;;;ACA3tC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACc;;;AAG3E;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAyoB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgC7pB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA,gBAwBA;EACA3F;EACA1B;IACAoE;EACA;EACAY;IACA;MACAsC;IACA;EACA;EACAC;IACAC;MACAC;MACAnD;IACA;EACA;EACAD;IACA;IACAI;MACAjB;MACAc;QACA;MACA;IACA;IACA;IACA5C;MACA8B;MACAc;IACA;IACAoD;MACAlE;MACAc;IACA;IACAqD;MACAnE;MACAc;IACA;IACA;IACAO;MACArB;MACAc;IACA;IACA;IACAQ;MACAtB;MACAc;IACA;IACA;IACAsD;MACApE;MACAc;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAuD;IACAC;MACAtE;MACAc;IACA;EACA;EACAnF;IACA;MACA4I;MACAC;MACAC;MACAC;MACAC;MACApD;MACAqD;IACA;EACA;EACApH;IACA;IACAqH;MACA;IACA;EACA;EACAhD;IACA;IACA;MACA;;MAEA;IAEA;IACA;MACA;MACA;IAEA;IACA;MACA;MACA;IACA;IACA,iDAEA;EACA;EACAI;IAAA;IACA;IACA;MACA;;MAOA;MACA,YACA;QACA;QACA;MACA,GACA;QACA;QACA;QACA;QACA;QACA;UACA;UACA;QACA;MACA;QACAD;MACA,EACA;IACA;EAEA;EAEA8C;IACA;IACA;EACA;EAQA/G;IACA;AACA;AACA;AACA;AACA;IACAmE;MAAA;MACA;MACA;IACA;IACA;IACAC;MACA;IAAA,CACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA4C;MAAA;QAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAAC;gBAAA,cASA,aAPAtD,iCACAE,mCACAV,uCACAoC,2CACAnC,+CACAqC,iDACAG;gBAEAzF;gBACA;kBACAR;gBACA;gBACA;gBACA;;gBAEA;gBACAuH;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA;gBACA;gBACAC;gBACAjC,eACA;gBAAA,MACA9B;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OAEA,kEACAjD,cAEAwD,SACA;cAAA;gBAJAuB;gBAMA;gBACA;kBACAA;gBACA;;gBAEA;gBACA;kBACA;oBACA;oBACA;kBACA;kBACA;oBACA5D;sBACAc;sBACAgF;oBACA;kBACA;kBACA;oBACA9F;sBACAc;sBACAC;oBACA;kBACA;gBACA;kBACA;gBACA;gBACA;gBACAkD;gBAAA;gBAAA;cAAA;gBAEA;cAAA;gBAAA,iCAEAL;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACA;AACA;AACA;IACAmC;MAAA;MACA,WAUA;QATAC;QACA1D;QACAgB;QACAjB;QACAE;QACA+B;QACAtC;QACAqC;QACAD;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;QACA;QACA;MACA;;MAEA;MACA;QACA;UACA;UACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA9B;UACAV;QACA;QACAoE;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA,iBAIA;UAHA3C;UACAjB;UACAiC;QAEAhB;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IACA;IACA4C;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;AACA;AACA;IACAhD;MACA;IACA;IAEA;IACAiD;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA,IACAnE,aACA,UADAA;QAEA;QACA;QACA;QACA;MACA;MACA;IACA;IACA;IACAoE;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IAEA;IAEA;AACA;AACA;AACA;AACA;AACA;IACAC;MACA;MACA;QACA;UACA;YACA;cACA;YACA;YACA;UACA;UACA;QACA;QACA;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;ACvcA;AAAA;AAAA;AAAA;AAA4sC,CAAgB,umCAAG,EAAC,C;;;;;;;;;;;ACAhuC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACc;;;AAG1E;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAwoB,CAAgB,unBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8E5pB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACA;EACA;IACA;IACA;MACAC;IACA;EACA;EACA;AACA;AAEA;EACA;EACA;IACA;IACAC;EACA;EACA;AACA;AAAA,gBACA;EACA7H;EACAyC;EACAK;IACAgF;IACAC;EACA;EACAzJ;IACAoE;EACA;EACAmD;IACAC;MACAC;MACAnD;IACA;IACAoF;MACAjC;MACAnD;IACA;EACA;EACAD;IACA3C;IACAR;IACAqD;IACAf;MACAA;MACAc;IACA;IACAqF;MACAnG;MACAc;IACA;IACAsF;MACApG;MACAc;IACA;IACAuF;MACArG;MACAc;IACA;IACAwF;IACAC;MACAvG;MACAc;IACA;IACA0F;MACAxG;MACAc;IACA;IACA2F;MACAzG;MACAc;IACA;IACA4F;MACA1G;MACAc;IACA;IACA6F;MACA3G;MACAc;IACA;IACA8F;MACA5G;MACAc;IACA;IACA+F;MACA7G;MACAc;IACA;IACAgG;MACA9G;MACAc;IACA;IACAiG;MACA/G;MACAc;IACA;IACAkG;MACAhH;MACAc;IACA;IACAmG;MACAjH;MACAc;IACA;IACAoG;MACAlH;MACAc;IACA;IACAqG;MACAnH;MACAc;QACA;UACAsG;UACAC;UACAC;UACAC;QACA;MACA;IACA;IACAnD;MACApE;MACAc;IACA;EACA;EACAnF;IACA;MACA6L;MACAC;MACAC;MACAnG;MACAqD;MACA+C;MACAC;MACAC;MACAC;MACAC;IACA;EACA;;EACAvK;IACA;IACAwK;MACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEAnD;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAoD;MACA;IACA;IAEA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;MACA;IACA;EACA;EACAxG;IACAnE;MACA;IACA;IACAqD;MACA;IACA;IACAwF;MAAA;MACA;QACA;QACA;MACA;IACA;EACA;EACAtE;IAAA;IACA;IACA;IACA;MACA;QACA;MACA;IACA;EACA;EACAqG;IAAA;IACA;MACA;MACA;IACA;EACA;EACAvK;IACA;AACA;AACA;IACAqH;MACA;QACA;MACA;QACA;MACA;QACA;MACA;IACA;IAEA;AACA;AACA;AACA;IACAmD;MACA;IACA;IAEA;AACA;AACA;IACAC;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;IACAC;MACA;MACA;MACA;QACA;UACA/K;QACA;QACA;UACAA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAgL;MAAA;MACA;QACA;MACA;MACA;IACA;IAEAC;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;QACA;UACA;QACA;MACA;IACA;IAEA;AACA;AACA;AACA;IACAC;MAAA;MACA;MACA;MACA;MACA;QACA;MACA;IACA;IAEA;AACA;AACA;AACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;AACA;AACA;AACA;AACA;IACAC;MACA;IACA;IAEA;AACA;AACA;IACAC;MAAA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;AClfA;AAAA;AAAA;AAAA;AAA2sC,CAAgB,smCAAG,EAAC,C;;;;;;;;;;;ACA/tC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAopC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACAxqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/auditTeacher/auditTeacher.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/auditTeacher/auditTeacher.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./auditTeacher.vue?vue&type=template&id=05233b66&\"\nvar renderjs\nimport script from \"./auditTeacher.vue?vue&type=script&lang=js&\"\nexport * from \"./auditTeacher.vue?vue&type=script&lang=js&\"\nimport style0 from \"./auditTeacher.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/auditTeacher/auditTeacher.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./auditTeacher.vue?vue&type=template&id=05233b66&\"","var components\ntry {\n  components = {\n    uniStatBreadcrumb: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-stat-breadcrumb/uni-stat-breadcrumb\" */ \"@/components/uni-stat-breadcrumb/uni-stat-breadcrumb.vue\"\n      )\n    },\n    unicloudDb: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/@dcloudio/uni-cli-shared/components/unicloud-db\" */ \"@dcloudio/uni-cli-shared/components/unicloud-db.vue\"\n      )\n    },\n    uniTable: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-table/uni-table\" */ \"@/uni_modules/uni-table/components/uni-table/uni-table.vue\"\n      )\n    },\n    uniTr: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-tr/uni-tr\" */ \"@/uni_modules/uni-table/components/uni-tr/uni-tr.vue\"\n      )\n    },\n    uniTh: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-th/uni-th\" */ \"@/uni_modules/uni-table/components/uni-th/uni-th.vue\"\n      )\n    },\n    uniTd: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-table/components/uni-td/uni-td\" */ \"@/uni_modules/uni-table/components/uni-td/uni-td.vue\"\n      )\n    },\n    uniTag: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-tag/components/uni-tag/uni-tag\" */ \"@/uni_modules/uni-tag/components/uni-tag/uni-tag.vue\"\n      )\n    },\n    uniDateformat: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat\" */ \"@/uni_modules/uni-dateformat/components/uni-dateformat/uni-dateformat.vue\"\n      )\n    },\n    uniPagination: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-pagination/components/uni-pagination/uni-pagination\" */ \"@/uni_modules/uni-pagination/components/uni-pagination/uni-pagination.vue\"\n      )\n    },\n    fixWindow: function () {\n      return import(\n        /* webpackChunkName: \"components/fix-window/fix-window\" */ \"@/components/fix-window/fix-window.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniDataCheckbox: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox\" */ \"@/uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(\"common.placeholder.query\")\n  var m1 = _vm.$t(\"common.button.search\")\n  var m2 = _vm.$t(\"common.button.add\")\n  var g0 = _vm.selectedIndexs.length\n  var m3 = _vm.$t(\"common.button.batchDelete\")\n  var g1 = _vm.selectedIndexs.length\n  var m4 = _vm.$t(\"common.button.tagManager\")\n  var m5 = _vm.$hasScopedSlotsParams(\"c1769b40-2\")\n  var m6 = m5\n    ? _vm.$getScopedSlotsParams(\"c1769b40-2\", \"default\", \"loading\")\n    : null\n  var m7 = m5\n    ? _vm.$getScopedSlotsParams(\"c1769b40-2\", \"default\", \"error\").message ||\n      _vm.$t(\"common.empty\")\n    : null\n  var l0 = m5\n    ? _vm.$getScopedSlotsParams(\"c1769b40-2\", \"default\", \"data\")\n    : null\n  var m8 = m5\n    ? _vm.$getScopedSlotsParams(\"c1769b40-2\", \"default\", \"pagination\")\n    : null\n  var m9 = m5\n    ? _vm.$getScopedSlotsParams(\"c1769b40-2\", \"default\", \"pagination\")\n    : null\n  var m10 = m5\n    ? _vm.$getScopedSlotsParams(\"c1769b40-2\", \"default\", \"pagination\")\n    : null\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event, item) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        item = _temp2.item\n      var _temp, _temp2\n      return _vm.getApproved(item._id)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        g0: g0,\n        m3: m3,\n        g1: g1,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        l0: l0,\n        m8: m8,\n        m9: m9,\n        m10: m10,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./auditTeacher.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./auditTeacher.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"fix-top-window\">\r\n\t\t<view class=\"uni-header\">\r\n\t\t\t<uni-stat-breadcrumb class=\"uni-stat-breadcrumb-on-phone\" />\r\n\t\t\t<view class=\"uni-group\">\r\n\t\t\t\t<input class=\"uni-search\" type=\"text\" v-model=\"query\" @confirm=\"search\"\r\n\t\t\t\t\t:placeholder=\"$t('common.placeholder.query')\" />\r\n\t\t\t\t<button class=\"uni-button hide-on-phone\" type=\"default\" size=\"mini\"\r\n\t\t\t\t\t@click=\"search\">{{$t('common.button.search')}}</button>\r\n\t\t\t\t<button class=\"uni-button\" type=\"primary\" size=\"mini\"\r\n\t\t\t\t\t@click=\"navigateTo('./add')\">{{$t('common.button.add')}}</button>\r\n\t\t\t\t<button class=\"uni-button\" type=\"warn\" size=\"mini\" :disabled=\"!selectedIndexs.length\"\r\n\t\t\t\t\t@click=\"delTable\">{{$t('common.button.batchDelete')}}</button>\r\n\t\t\t\t<button class=\"uni-button\" type=\"primary\" size=\"mini\" :disabled=\"!selectedIndexs.length\"\r\n\t\t\t\t\t@click=\"openTagsPopup\">{{$t('common.button.tagManager')}}</button>\r\n\t\t\t\t<!-- #ifdef H5 -->\r\n\t\t\t\t<button class=\"uni-button\" type=\"primary\" size=\"mini\" @click=\"$refs.batchSms.open()\">{{$t('common.button.sendSMS')}}</button>\r\n\t\t\t\t<download-excel class=\"hide-on-phone\" :fields=\"exportExcel.fields\" :data=\"exportExcelData\"\r\n\t\t\t\t\t:type=\"exportExcel.type\" :name=\"exportExcel.filename\">\r\n\t\t\t\t\t<button class=\"uni-button\" type=\"primary\" size=\"mini\">{{$t('common.button.exportExcel')}}</button>\r\n\t\t\t\t</download-excel>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"uni-container\">\r\n\t\t\t<unicloud-db ref=\"udb\" :collection=\"collectionList\" :where=\"where\"\r\n\t\t\t\tpage-data=\"replace\" :orderby=\"orderby\" :getcount=\"true\" :page-size=\"options.pageSize\"\r\n\t\t\t\t:page-current=\"options.pageCurrent\" v-slot:default=\"{ data, pagination, loading, error, options }\"\r\n\t\t\t\t:options=\"options\" loadtime=\"manual\" @load=\"onqueryload\">\r\n\t\t\t\t<uni-table ref=\"table\" :loading=\"loading\" :emptyText=\"error.message || $t('common.empty')\" border stripe\r\n\t\t\t\t\ttype=\"selection\" @selection-change=\"selectionChange\">\r\n\t\t\t\t\t<uni-tr>\r\n\t\t\t\t\t\t<uni-th align=\"center\" filter-type=\"search\" @filter-change=\"filterChange($event, 'username')\"\r\n\t\t\t\t\t\t\tsortable @sort-change=\"sortChange($event, 'username')\">用户名</uni-th>\r\n\t\t\t\t\t\t<uni-th align=\"center\" filter-type=\"search\" @filter-change=\"filterChange($event, 'nickname')\"\r\n\t\t\t\t\t\t\tsortable @sort-change=\"sortChange($event, 'nickname')\">用户昵称</uni-th>\r\n\t\t\t\t\t\t<uni-th align=\"center\" filter-type=\"search\" @filter-change=\"filterChange($event, 'mobile')\"\r\n\t\t\t\t\t\t\tsortable @sort-change=\"sortChange($event, 'mobile')\">手机号码</uni-th>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<uni-th align=\"center\">角色</uni-th>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<uni-th align=\"center\" filter-type=\"timestamp\"\r\n\t\t\t\t\t\t\t@filter-change=\"filterChange($event, 'last_login_date')\" sortable\r\n\t\t\t\t\t\t\t@sort-change=\"sortChange($event, 'last_login_date')\">最后登录时间</uni-th>\r\n\t\t\t\t\t\t<uni-th align=\"center\">操作</uni-th>\r\n\t\t\t\t\t</uni-tr>\r\n\t\t\t\t\t<uni-tr v-for=\"(item,index) in data\" :key=\"index\">\r\n\t\t\t\t\t\t<uni-td align=\"center\">{{item.username}}</uni-td>\r\n\t\t\t\t\t\t<uni-td align=\"center\">{{item.nickname}}</uni-td>\r\n\t\t\t\t\t\t<uni-td align=\"center\">{{item.mobile}}</uni-td>\r\n\t\t\t\t\t\t<uni-td align=\"center\">{{options.status_valuetotext[item.status]}}</uni-td>\r\n\t\t\t\t\t\t<uni-td align=\"center\">\r\n\t\t\t\t\t\t\t<block v-for=\"(tag,tagIndex) in item.tags\" :key=\"tagIndex\">\r\n\t\t\t\t\t\t\t\t<uni-tag type=\"primary\" inverted size=\"small\" :text=\"tag\" v-if=\"item.tags\" style=\"margin: 0 5px;\"></uni-tag>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</uni-td>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<uni-td align=\"center\">\r\n\t\t\t\t\t\t\t<uni-dateformat :threshold=\"[0, 0]\" :date=\"item.last_login_date\"></uni-dateformat>\r\n\t\t\t\t\t\t</uni-td>\r\n\t\t\t\t\t\t<uni-td align=\"center\">\r\n\t\t\t\t\t\t\t<view class=\"uni-group\">\r\n\t\t\t\t\t\t\t\t<button @click=\"getApproved(item._id)\" class=\"uni-button\" size=\"mini\"\r\n\t\t\t\t\t\t\t\t\ttype=\"primary\">通过审核</button>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</uni-td>\r\n\t\t\t\t\t</uni-tr>\r\n\t\t\t\t</uni-table>\r\n\t\t\t\t<view class=\"uni-pagination-box\">\r\n\t\t\t\t\t<uni-pagination show-iconn show-page-size :page-size=\"pagination.size\" v-model=\"pagination.current\"\r\n\t\t\t\t\t\t:total=\"pagination.count\" @change=\"onPageChanged\" @pageSizeChange=\"changeSize\" />\r\n\t\t\t\t</view>\r\n\t\t\t</unicloud-db>\r\n\t\t</view>\r\n\t\t<!-- #ifndef H5 -->\r\n\t\t<fix-window />\r\n\t\t<!-- #endif -->\r\n\t\t<uni-popup ref=\"tagsPopup\" type=\"center\">\r\n\t\t\t<view class=\"tags-manager--x\">\r\n\t\t\t\t<view class=\"tags-manager--header mb\">管理标签</view>\r\n\t\t\t\t<uni-data-checkbox ref=\"checkbox\" v-model=\"managerTags\" class=\"mb ml\" :multiple=\"true\"\r\n\t\t\t\t\tcollection=\"uni-id-tag\" field=\"tagid as value, name as text\"></uni-data-checkbox>\r\n\t\t\t\t<view class=\"uni-group\">\r\n\t\t\t\t\t<button @click=\"managerMultiTag\" class=\"uni-button\" type=\"primary\"\r\n\t\t\t\t\t\tstyle=\"margin-right: 75px;\">保存</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</uni-popup>\r\n\t\t<!-- #ifdef H5 -->\r\n\t\t<batch-sms ref=\"batchSms\" toType=\"user\" :receiver=\"smsReceiver\" :condition=\"smsCondition\"></batch-sms>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tenumConverter,\r\n\t\tfilterToWhere\r\n\t} from '../../js_sdk/validator/uni-id-users.js';\r\n\timport UniForms from \"@/uni_modules/uni-forms/components/uni-forms/uni-forms\";\r\n\timport UniFormsItem from \"@/uni_modules/uni-forms/components/uni-forms-item/uni-forms-item\";\r\n\timport UniEasyinput from \"@/uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput\";\r\n\r\n\tconst db = uniCloud.database()\r\n\t// 表查询配置\r\n\tconst dbOrderBy = 'last_login_date desc' // 排序字段\r\n\tconst dbSearchFields = ['username', 'role.role_name', 'mobile', 'email'] // 支持模糊搜索的字段列表\r\n\t// 分页配置\r\n\tconst pageSize = 20\r\n\tconst pageCurrent = 1\r\n\r\n\tconst orderByMapping = {\r\n\t\t\"ascending\": \"asc\",\r\n\t\t\"descending\": \"desc\"\r\n\t}\r\n\t\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcollectionList: [ db.collection('uni-id-users').where(\" 'teacher' == userType\").field('ali_openid,apple_openid,avatar,avatar_file,comment,dcloud_appid,department_id,email,email_confirmed,gender,invite_time,inviter_uid,last_login_date,last_login_ip,mobile,mobile_confirmed,my_invite_code,nickname,role,score,status,username,wx_unionid,qq_unionid,tags').getTemp(),db.collection('uni-id-roles').field('role_id, role_name').getTemp() ],\r\n\t\t\t\tquery: '',\r\n\t\t\t\twhere: '',\r\n\t\t\t\torderby: dbOrderBy,\r\n\t\t\t\torderByFieldName: \"\",\r\n\t\t\t\tselectedIndexs: [],\r\n\t\t\t\tpageSizeIndex: 0,\r\n\t\t\t\tpageSizeOption: [20, 50, 100, 500],\r\n\t\t\t\ttags: {},\r\n\t\t\t\tmanagerTags: [],\r\n\t\t\t\tqueryTagid: '',\r\n\t\t\t\tqueryUserId: '',\r\n\t\t\t\toptions: {\r\n\t\t\t\t\tpageSize,\r\n\t\t\t\t\tpageCurrent,\r\n\t\t\t\t\tfilterData: {\r\n\t\t\t\t\t\t\"status_localdata\": [{\r\n\t\t\t\t\t\t\t\t\"text\": \"正常\",\r\n\t\t\t\t\t\t\t\t\"value\": 0,\r\n\t\t\t\t\t\t\t\t\"checked\": true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"text\": \"禁用\",\r\n\t\t\t\t\t\t\t\t\"value\": 1\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"text\": \"审核中\",\r\n\t\t\t\t\t\t\t\t\"value\": 2\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\"text\": \"审核拒绝\",\r\n\t\t\t\t\t\t\t\t\"value\": 3\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t...enumConverter\r\n\t\t\t\t},\r\n\t\t\t\timageStyles: {\r\n\t\t\t\t\twidth: 64,\r\n\t\t\t\t\theight: 64\r\n\t\t\t\t},\r\n\t\t\t\texportExcel: {\r\n\t\t\t\t\t\"filename\": \"uni-id-users.xls\",\r\n\t\t\t\t\t\"type\": \"xls\",\r\n\t\t\t\t\t\"fields\": {\r\n\t\t\t\t\t\t\"用户名\": \"username\",\r\n\t\t\t\t\t\t\"手机号码\": \"mobile\",\r\n\t\t\t\t\t\t\"用户状态\": \"status\",\r\n\t\t\t\t\t\t\"邮箱\": \"email\",\r\n\t\t\t\t\t\t\"角色\": \"role\",\r\n\t\t\t\t\t\t\"last_login_date\": \"last_login_date\"\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\texportExcelData: [],\r\n\t\t\t\tnoAppidWhatShouldIDoLink: 'https://uniapp.dcloud.net.cn/uniCloud/uni-id?id=makeup-dcloud-appid',\r\n\t\t\t\tsmsCondition: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(e) {\r\n\t\t\tthis._filter = {}\r\n\t\t\tconst tagid = e.tagid\r\n\t\t\tconst userId = e.id\r\n\r\n\t\t\tif (tagid) {\r\n\t\t\t\tthis.queryTagid = tagid\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\tfilterType: \"select\",\r\n\t\t\t\t\tfilter: [tagid]\r\n\t\t\t\t}\r\n\t\t\t\tthis.filterChange(options, \"tags\")\r\n\t\t\t}\r\n\r\n\t\t\tif (userId) {\r\n\t\t\t\tthis.queryUserId = userId\r\n\t\t\t\tconst options = {\r\n\t\t\t\t\tfilterType: \"select\",\r\n\t\t\t\t\tfilter: [userId]\r\n\t\t\t\t}\r\n\t\t\t\tthis.filterChange(options, \"_id\")\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.loadTags()\r\n\t\t\tif (!this.queryTagid && !this.queryUserId) {\r\n\t\t\t\tthis.$refs.udb.loadData()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\ttagsData() {\r\n\t\t\t\tconst dynamic_data = []\r\n\t\t\t\tfor (const key in this.tags) {\r\n\t\t\t\t\tconst tag = {\r\n\t\t\t\t\t\tvalue: key,\r\n\t\t\t\t\t\ttext: this.tags[key]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (key === this.queryTagid) {\r\n\t\t\t\t\t\ttag.checked = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdynamic_data.push(tag)\r\n\t\t\t\t}\r\n\t\t\t\treturn dynamic_data\r\n\t\t\t},\r\n\t\t\tsmsReceiver() {\r\n\t\t\t\tif (this.selectedIndexs.length) {\r\n\t\t\t\t\tvar dataList = this.$refs.udb.dataList\r\n\t\t\t\t\treturn this.selectedIndexs.map(i => dataList[i]._id)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\t//通过审核的功能函数\r\n\t\t\tgetApproved(e) {\r\n\t\t\t\tuniCloud.callFunction({\r\n\t\t\t\t    name: 'user-center',\r\n\t\t\t\t    data: {e}\r\n\t\t\t\t  })\r\n\t\t\t\t  .then(res => {\r\n\t\t\t\t\t  console.log(res);\r\n\t\t\t\t  });\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tonqueryload(data) {\r\n\t\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\t\tlet item = data[i]\r\n\t\t\t\t\tconst roleArr = item.role.map(item => item.role_name)\r\n\t\t\t\t\titem.role = roleArr.join('、')\r\n\t\t\t\t\tconst tagsArr = item.tags && item.tags.map(item => this.tags[item])\r\n\t\t\t\t\titem.tags = tagsArr\r\n\t\t\t\t\tif (Array.isArray(item.dcloud_appid)) {\r\n\t\t\t\t\t\titem.dcloud_appid = item.dcloud_appid.join('、')\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.last_login_date = this.$formatDate(item.last_login_date)\r\n\t\t\t\t}\r\n\t\t\t\tthis.exportExcelData = data\r\n\t\t\t},\r\n\t\t\tchangeSize(pageSize) {\r\n\t\t\t\tthis.options.pageSize = pageSize\r\n\t\t\t\tthis.options.pageCurrent = 1\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.loadData()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\topenTagsPopup() {\r\n\t\t\t\tthis.$refs.tagsPopup.open()\r\n\t\t\t},\r\n\t\t\tcloseTagsPopup() {\r\n\t\t\t\tthis.$refs.tagsPopup.close()\r\n\t\t\t},\r\n\t\t\tgetWhere() {\r\n\t\t\t\tconst query = this.query.trim()\r\n\t\t\t\tif (!query) {\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t\tconst queryRe = new RegExp(query, 'i')\r\n\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\tJSON.stringify(\r\n\t\t\t\t\t\tdb.command.or(\r\n\t\t\t\t\t\t\tdbSearchFields.map(name => {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t[name]: queryRe\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\r\n\t\t\t\treturn db.command.or(\r\n\t\t\t\t\tdbSearchFields.map(name => {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t[name]: queryRe\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t\treturn dbSearchFields.map(name => queryRe + '.test(' + name + ')').join(' || ')\r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\tconst newWhere = this.getWhere()\r\n\r\n\t\t\t\tthis.where = newWhere\r\n\t\t\t\t// 下一帧拿到查询条件\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.loadData()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloadData(clear = true) {\r\n\t\t\t\tthis.$refs.udb.loadData({\r\n\t\t\t\t\tclear\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonPageChanged(e) {\r\n\t\t\t\tthis.selectedIndexs.length = 0\r\n\t\t\t\tthis.$refs.table.clearSelection()\r\n\t\t\t\tthis.$refs.udb.loadData({\r\n\t\t\t\t\tcurrent: e.current\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnavigateTo(url, clear) {\r\n\t\t\t\t// clear 表示刷新列表时是否清除页码，true 表示刷新并回到列表第 1 页，默认为 true\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tevents: {\r\n\t\t\t\t\t\trefreshData: () => {\r\n\t\t\t\t\t\t\tthis.loadTags()\r\n\t\t\t\t\t\t\tthis.loadData(clear)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 多选处理\r\n\t\t\tselectedItems() {\r\n\t\t\t\tvar dataList = this.$refs.udb.dataList\r\n\t\t\t\treturn this.selectedIndexs.map(i => dataList[i]._id)\r\n\t\t\t},\r\n\t\t\t// 批量删除\r\n\t\t\tdelTable() {\r\n\t\t\t\tthis.$refs.udb.remove(this.selectedItems(), {\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.$refs.table.clearSelection()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 多选\r\n\t\t\tselectionChange(e) {\r\n\t\t\t\tthis.selectedIndexs = e.detail.index\r\n\t\t\t},\r\n\t\t\tconfirmDelete(id) {\r\n\t\t\t\tthis.$refs.udb.remove(id, {\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.$refs.table.clearSelection()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsortChange(e, name) {\r\n\t\t\t\tthis.orderByFieldName = name;\r\n\t\t\t\tif (e.order) {\r\n\t\t\t\t\tthis.orderby = name + ' ' + orderByMapping[e.order]\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.orderby = ''\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.table.clearSelection()\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs.udb.loadData()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tfilterChange(e, name) {\r\n\t\t\t\tthis._filter[name] = {\r\n\t\t\t\t\ttype: e.filterType,\r\n\t\t\t\t\tvalue: e.filter\r\n\t\t\t\t}\r\n\t\t\t\tlet newWhere = filterToWhere(this._filter, db.command)\r\n\r\n\t\t\t\tif (Object.keys(newWhere).length) {\r\n\t\t\t\t\tthis.where = newWhere\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.where = ''\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// uni-sms-co\r\n\t\t\t\tif (Object.keys(this._filter).length) {\r\n\t\t\t\t\tthis.smsCondition = this._filter\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.smsCondition = {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.$refs.udb.loadData()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloadTags() {\r\n\t\t\t\tdb.collection('uni-id-tag').limit(500).get().then(res => {\r\n\t\t\t\t\tres.result.data.map(item => {\r\n\t\t\t\t\t\tthis.$set(this.tags, item.tagid, item.name)\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: err.message,\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmanagerMultiTag() {\r\n\t\t\t\tconst ids = this.selectedItems()\r\n\r\n\t\t\t\tdb.collection('uni-id-users').where({\r\n\t\t\t\t\t_id: db.command.in(ids)\r\n\t\t\t\t}).update({\r\n\t\t\t\t\ttags: this.managerTags\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '修改标签成功',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$refs.table.clearSelection()\r\n\t\t\t\t\tthis.managerTags = []\r\n\t\t\t\t\tthis.loadData()\r\n\t\t\t\t\tthis.closeTagsPopup()\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: err.message || '请求服务失败',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t})\r\n\t\t\t\t}).finally(err => {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.tags-manager {\r\n\r\n\t\t&--x {\r\n\t\t\twidth: 400px;\r\n\t\t\tpadding: 40px 30px;\r\n\t\t\tborder-radius: 5px;\r\n\t\t\tbackground-color: #fff;\r\n\t\t}\r\n\r\n\t\t&--header {\r\n\t\t\tfont-size: 22px;\r\n\t\t\tcolor: #333;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\r\n\t.mb {\r\n\t\tmargin-bottom: 80px;\r\n\t}\r\n\r\n\t.ml {\r\n\t\tmargin-left: 30px;\r\n\t}\r\n</style>\r\n","import { render, staticRenderFns, recyclableRender, components } from \"./uni-forms.vue?vue&type=template&id=7ae0e404&\"\nvar renderjs\nimport script from \"./uni-forms.vue?vue&type=script&lang=js&\"\nexport * from \"./uni-forms.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uni-forms.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uni-forms/components/uni-forms/uni-forms.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms.vue?vue&type=template&id=7ae0e404&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"uni-forms\">\r\n\t\t<form>\r\n\t\t\t<slot></slot>\r\n\t\t</form>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Validator from './validate.js';\r\n\timport {\r\n\t\tdeepCopy,\r\n\t\tgetValue,\r\n\t\tisRequiredField,\r\n\t\tsetDataValue,\r\n\t\tgetDataValue,\r\n\t\trealName,\r\n\t\tisRealName,\r\n\t\trawData,\r\n\t\tisEqual\r\n\t} from './utils.js'\r\n\r\n\t// #ifndef VUE3\r\n\t// 后续会慢慢废弃这个方法\r\n\timport Vue from 'vue';\r\n\tVue.prototype.binddata = function(name, value, formName) {\r\n\t\tif (formName) {\r\n\t\t\tthis.$refs[formName].setValue(name, value);\r\n\t\t} else {\r\n\t\t\tlet formVm;\r\n\t\t\tfor (let i in this.$refs) {\r\n\t\t\t\tconst vm = this.$refs[i];\r\n\t\t\t\tif (vm && vm.$options && vm.$options.name === 'uniForms') {\r\n\t\t\t\t\tformVm = vm;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!formVm) return console.error('当前 uni-froms 组件缺少 ref 属性');\r\n\t\t\tformVm.setValue(name, value);\r\n\t\t}\r\n\t};\r\n\t// #endif\r\n\t/**\r\n\t * Forms 表单\r\n\t * @description 由输入框、选择器、单选框、多选框等控件组成，用以收集、校验、提交数据\r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?id=2773\r\n\t * @property {Object} rules\t表单校验规则\r\n\t * @property {String} validateTrigger = [bind|submit|blur]\t校验触发器方式 默认 submit\r\n\t * @value bind\t\t发生变化时触发\r\n\t * @value submit\t提交时触发\r\n\t * @value blur\t  失去焦点时触发\r\n\t * @property {String} labelPosition = [top|left]\tlabel 位置 默认 left\r\n\t * @value top\t\t顶部显示 label\r\n\t * @value left\t左侧显示 label\r\n\t * @property {String} labelWidth\tlabel 宽度，默认 65px\r\n\t * @property {String} labelAlign = [left|center|right]\tlabel 居中方式  默认 left\r\n\t * @value left\t\tlabel 左侧显示\r\n\t * @value center\tlabel 居中\r\n\t * @value right\t\tlabel 右侧对齐\r\n\t * @property {String} errShowType = [undertext|toast|modal]\t校验错误信息提示方式\r\n\t * @value undertext\t错误信息在底部显示\r\n\t * @value toast\t\t\t错误信息toast显示\r\n\t * @value modal\t\t\t错误信息modal显示\r\n\t * @event {Function} submit\t提交时触发\r\n\t * @event {Function} validate\t校验结果发生变化触发\r\n\t */\r\n\texport default {\r\n\t\tname: 'uniForms',\r\n\t\temits: ['validate', 'submit'],\r\n\t\toptions: {\r\n\t\t\tvirtualHost: true\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\t// 即将弃用\r\n\t\t\tvalue: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// vue3 替换 value 属性\r\n\t\t\tmodelValue: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 1.4.0 开始将不支持 v-model ，且废弃 value 和 modelValue\r\n\t\t\tmodel: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 表单校验规则\r\n\t\t\trules: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn {};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//校验错误信息提示方式 默认 undertext 取值 [undertext|toast|modal]\r\n\t\t\terrShowType: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'undertext'\r\n\t\t\t},\r\n\t\t\t// 校验触发器方式 默认 bind 取值 [bind|submit]\r\n\t\t\tvalidateTrigger: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'submit'\r\n\t\t\t},\r\n\t\t\t// label 位置，默认 left 取值  top/left\r\n\t\t\tlabelPosition: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'left'\r\n\t\t\t},\r\n\t\t\t// label 宽度\r\n\t\t\tlabelWidth: {\r\n\t\t\t\ttype: [String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// label 居中方式，默认 left 取值 left/center/right\r\n\t\t\tlabelAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'left'\r\n\t\t\t},\r\n\t\t\tborder: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tprovide() {\r\n\t\t\treturn {\r\n\t\t\t\tuniForm: this\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 表单本地值的记录，不应该与传如的值进行关联\r\n\t\t\t\tformData: {},\r\n\t\t\t\tformRules: {}\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 计算数据源变化的\r\n\t\t\tlocalData() {\r\n\t\t\t\tconst localVal = this.model || this.modelValue || this.value\r\n\t\t\t\tif (localVal) {\r\n\t\t\t\t\treturn deepCopy(localVal)\r\n\t\t\t\t}\r\n\t\t\t\treturn {}\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 监听数据变化 ,暂时不使用，需要单独赋值\r\n\t\t\t// localData: {},\r\n\t\t\t// 监听规则变化\r\n\t\t\trules: {\r\n\t\t\t\thandler: function(val, oldVal) {\r\n\t\t\t\t\tthis.setRules(val)\r\n\t\t\t\t},\r\n\t\t\t\tdeep: true,\r\n\t\t\t\timmediate: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// #ifdef VUE3\r\n\t\t\tlet getbinddata = getApp().$vm.$.appContext.config.globalProperties.binddata\r\n\t\t\tif (!getbinddata) {\r\n\t\t\t\tgetApp().$vm.$.appContext.config.globalProperties.binddata = function(name, value, formName) {\r\n\t\t\t\t\tif (formName) {\r\n\t\t\t\t\t\tthis.$refs[formName].setValue(name, value);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet formVm;\r\n\t\t\t\t\t\tfor (let i in this.$refs) {\r\n\t\t\t\t\t\t\tconst vm = this.$refs[i];\r\n\t\t\t\t\t\t\tif (vm && vm.$options && vm.$options.name === 'uniForms') {\r\n\t\t\t\t\t\t\t\tformVm = vm;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!formVm) return console.error('当前 uni-froms 组件缺少 ref 属性');\r\n\t\t\t\t\t\tformVm.setValue(name, value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\r\n\t\t\t// 子组件实例数组\r\n\t\t\tthis.childrens = []\n\t\t\t// TODO 兼容旧版 uni-data-picker ,新版本中无效，只是避免报错\n\t\t\tthis.inputChildrens = []\r\n\t\t\tthis.setRules(this.rules)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 设置规则 ，主要用于小程序自定义检验规则\r\n\t\t\t * @param {Array} rules 规则源数据\r\n\t\t\t */\r\n\t\t\tsetRules(rules) {\r\n\t\t\t\t// TODO 有可能子组件合并规则的时机比这个要早，所以需要合并对象 ，而不是直接赋值，可能会被覆盖\r\n\t\t\t\tthis.formRules = Object.assign({}, this.formRules, rules)\r\n\t\t\t\t// 初始化校验函数\r\n\t\t\t\tthis.validator = new Validator(rules);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 设置数据，用于设置表单数据，公开给用户使用 ， 不支持在动态表单中使用\r\n\t\t\t * @param {Object} key\r\n\t\t\t * @param {Object} value\r\n\t\t\t */\r\n\t\t\tsetValue(key, value) {\r\n\t\t\t\tlet example = this.childrens.find(child => child.name === key);\r\n\t\t\t\tif (!example) return null;\r\n\t\t\t\tthis.formData[key] = getValue(key, value, (this.formRules[key] && this.formRules[key].rules) || [])\r\n\t\t\t\treturn example.onFieldChange(this.formData[key]);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 手动提交校验表单\r\n\t\t\t * 对整个表单进行校验的方法，参数为一个回调函数。\r\n\t\t\t * @param {Array} keepitem 保留不参与校验的字段\r\n\t\t\t * @param {type} callback 方法回调\r\n\t\t\t */\r\n\t\t\tvalidate(keepitem, callback) {\r\n\t\t\t\treturn this.checkAll(this.formData, keepitem, callback);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 部分表单校验\r\n\t\t\t * @param {Array|String} props 需要校验的字段\r\n\t\t\t * @param {Function} 回调函数\r\n\t\t\t */\r\n\t\t\tvalidateField(props = [], callback) {\r\n\t\t\t\tprops = [].concat(props);\r\n\t\t\t\tlet invalidFields = {};\r\n\t\t\t\tthis.childrens.forEach(item => {\r\n\t\t\t\t\tconst name = realName(item.name)\r\n\t\t\t\t\tif (props.indexOf(name) !== -1) {\r\n\t\t\t\t\t\tinvalidFields = Object.assign({}, invalidFields, {\r\n\t\t\t\t\t\t\t[name]: this.formData[name]\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn this.checkAll(invalidFields, [], callback);\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 移除表单项的校验结果。传入待移除的表单项的 prop 属性或者 prop 组成的数组，如不传则移除整个表单的校验结果\r\n\t\t\t * @param {Array|String} props 需要移除校验的字段 ，不填为所有\r\n\t\t\t */\r\n\t\t\tclearValidate(props = []) {\r\n\t\t\t\tprops = [].concat(props);\r\n\t\t\t\tthis.childrens.forEach(item => {\r\n\t\t\t\t\tif (props.length === 0) {\r\n\t\t\t\t\t\titem.errMsg = '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst name = realName(item.name)\r\n\t\t\t\t\t\tif (props.indexOf(name) !== -1) {\r\n\t\t\t\t\t\t\titem.errMsg = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法 ，即将废弃\r\n\t\t\t * 手动提交校验表单\r\n\t\t\t * 对整个表单进行校验的方法，参数为一个回调函数。\r\n\t\t\t * @param {Array} keepitem 保留不参与校验的字段\r\n\t\t\t * @param {type} callback 方法回调\r\n\t\t\t */\r\n\t\t\tsubmit(keepitem, callback, type) {\r\n\t\t\t\tfor (let i in this.dataValue) {\r\n\t\t\t\t\tconst itemData = this.childrens.find(v => v.name === i);\r\n\t\t\t\t\tif (itemData) {\r\n\t\t\t\t\t\tif (this.formData[i] === undefined) {\r\n\t\t\t\t\t\t\tthis.formData[i] = this._getValue(i, this.dataValue[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!type) {\r\n\t\t\t\t\tconsole.warn('submit 方法即将废弃，请使用validate方法代替！');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.checkAll(this.formData, keepitem, callback, 'submit');\r\n\t\t\t},\r\n\r\n\t\t\t// 校验所有\r\n\t\t\tasync checkAll(invalidFields, keepitem, callback, type) {\r\n\t\t\t\t// 不存在校验规则 ，则停止校验流程\r\n\t\t\t\tif (!this.validator) return\r\n\t\t\t\tlet childrens = []\r\n\t\t\t\t// 处理参与校验的item实例\r\n\t\t\t\tfor (let i in invalidFields) {\r\n\t\t\t\t\tconst item = this.childrens.find(v => realName(v.name) === i)\r\n\t\t\t\t\tif (item) {\r\n\t\t\t\t\t\tchildrens.push(item)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果validate第一个参数是funciont ,那就走回调\r\n\t\t\t\tif (!callback && typeof keepitem === 'function') {\r\n\t\t\t\t\tcallback = keepitem;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet promise;\r\n\t\t\t\t// 如果不存在回调，那么使用 Promise 方式返回\r\n\t\t\t\tif (!callback && typeof callback !== 'function' && Promise) {\r\n\t\t\t\t\tpromise = new Promise((resolve, reject) => {\r\n\t\t\t\t\t\tcallback = function(valid, invalidFields) {\r\n\t\t\t\t\t\t\t!valid ? resolve(invalidFields) : reject(valid);\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet results = [];\r\n\t\t\t\t// 避免引用错乱 ，建议拷贝对象处理\r\n\t\t\t\tlet tempFormData = JSON.parse(JSON.stringify(invalidFields))\r\n\t\t\t\t// 所有子组件参与校验,使用 for 可以使用  awiat\r\n\t\t\t\tfor (let i in childrens) {\r\n\t\t\t\t\tconst child = childrens[i]\r\n\t\t\t\t\tlet name = realName(child.name);\r\n\t\t\t\t\tconst result = await child.onFieldChange(tempFormData[name]);\r\n\t\t\t\t\tif (result) {\r\n\t\t\t\t\t\tresults.push(result);\r\n\t\t\t\t\t\t// toast ,modal 只需要执行第一次就可以\r\n\t\t\t\t\t\tif (this.errShowType === 'toast' || this.errShowType === 'modal') break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (Array.isArray(results)) {\r\n\t\t\t\t\tif (results.length === 0) results = null;\r\n\t\t\t\t}\r\n\t\t\t\tif (Array.isArray(keepitem)) {\r\n\t\t\t\t\tkeepitem.forEach(v => {\r\n\t\t\t\t\t\tlet vName = realName(v);\r\n\t\t\t\t\t\tlet value = getDataValue(v, this.localData)\r\n\t\t\t\t\t\tif (value !== undefined) {\r\n\t\t\t\t\t\t\ttempFormData[vName] = value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// TODO submit 即将废弃\r\n\t\t\t\tif (type === 'submit') {\r\n\t\t\t\t\tthis.$emit('submit', {\r\n\t\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\t\tvalue: tempFormData,\r\n\t\t\t\t\t\t\terrors: results\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$emit('validate', results);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// const resetFormData = rawData(tempFormData, this.localData, this.name)\r\n\t\t\t\tlet resetFormData = {}\r\n\t\t\t\tresetFormData = rawData(tempFormData, this.name)\r\n\t\t\t\tcallback && typeof callback === 'function' && callback(results, resetFormData);\r\n\r\n\t\t\t\tif (promise && callback) {\r\n\t\t\t\t\treturn promise;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 返回validate事件\r\n\t\t\t * @param {Object} result\r\n\t\t\t */\r\n\t\t\tvalidateCheck(result) {\r\n\t\t\t\tthis.$emit('validate', result);\r\n\t\t\t},\r\n\t\t\t_getValue: getValue,\r\n\t\t\t_isRequiredField: isRequiredField,\r\n\t\t\t_setDataValue: setDataValue,\r\n\t\t\t_getDataValue: getDataValue,\r\n\t\t\t_realName: realName,\r\n\t\t\t_isRealName: isRealName,\r\n\t\t\t_isEqual: isEqual\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.uni-forms {}\r\n</style>\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683866506212\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./uni-forms-item.vue?vue&type=template&id=61dfc0d0&\"\nvar renderjs\nimport script from \"./uni-forms-item.vue?vue&type=script&lang=js&\"\nexport * from \"./uni-forms-item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uni-forms-item.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms-item.vue?vue&type=template&id=61dfc0d0&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms-item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms-item.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"uni-forms-item\"\r\n\t\t:class=\"['is-direction-' + localLabelPos ,border?'uni-forms-item--border':'' ,border && isFirstBorder?'is-first-border':'']\">\r\n\t\t<slot name=\"label\">\r\n\t\t\t<view class=\"uni-forms-item__label\" :class=\"{'no-label':!label && !required}\"\r\n\t\t\t\t:style=\"{width:localLabelWidth,justifyContent: localLabelAlign}\">\r\n\t\t\t\t<text v-if=\"required\" class=\"is-required\">*</text>\r\n\t\t\t\t<text>{{label}}</text>\r\n\t\t\t</view>\r\n\t\t</slot>\r\n\t\t<!-- #ifndef APP-NVUE -->\r\n\t\t<view class=\"uni-forms-item__content\">\r\n\t\t\t<slot></slot>\r\n\t\t\t<view class=\"uni-forms-item__error\" :class=\"{'msg--active':msg}\">\r\n\t\t\t\t<text>{{msg}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef APP-NVUE -->\r\n\t\t<view class=\"uni-forms-item__nuve-content\">\r\n\t\t\t<view class=\"uni-forms-item__content\">\r\n\t\t\t\t<slot></slot>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"uni-forms-item__error\" :class=\"{'msg--active':msg}\">\r\n\t\t\t\t<text class=\"error-text\">{{msg}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * uni-fomrs-item 表单子组件\r\n\t * @description uni-fomrs-item 表单子组件，提供了基础布局已经校验能力\r\n\t * @tutorial https://ext.dcloud.net.cn/plugin?id=2773\r\n\t * @property {Boolean} required 是否必填，左边显示红色\"*\"号\r\n\t * @property {String } \tlabel \t\t\t\t输入框左边的文字提示\r\n\t * @property {Number } \tlabelWidth \t\t\tlabel的宽度，单位px（默认65）\r\n\t * @property {String } \tlabelAlign = [left|center|right] label的文字对齐方式（默认left）\r\n\t * \t@value left\t\tlabel 左侧显示\r\n\t * \t@value center\tlabel 居中\r\n\t * \t@value right\tlabel 右侧对齐\r\n\t * @property {String } \terrorMessage \t\t显示的错误提示内容，如果为空字符串或者false，则不显示错误信息\r\n\t * @property {String } \tname \t\t\t\t表单域的属性名，在使用校验规则时必填\r\n\t * @property {String } \tleftIcon \t\t\t【1.4.0废弃】label左边的图标，限 uni-ui 的图标名称\r\n\t * @property {String } \ticonColor \t\t【1.4.0废弃】左边通过icon配置的图标的颜色（默认#606266）\r\n\t * @property {String} validateTrigger = [bind|submit|blur]\t【1.4.0废弃】校验触发器方式 默认 submit\r\n\t * \t@value bind \t发生变化时触发\r\n\t * \t@value submit 提交时触发\r\n\t * \t@value blur \t失去焦点触发\r\n\t * @property {String } \tlabelPosition = [top|left] 【1.4.0废弃】label的文字的位置（默认left）\r\n\t * \t@value top\t顶部显示 label\r\n\t * \t@value left\t左侧显示 label\r\n\t */\r\n\r\n\texport default {\r\n\t\tname: 'uniFormsItem',\r\n\t\toptions: {\r\n\t\t\tvirtualHost: true\r\n\t\t},\r\n\t\tprovide() {\r\n\t\t\treturn {\r\n\t\t\t\tuniFormItem: this\r\n\t\t\t}\r\n\t\t},\r\n\t\tinject: {\r\n\t\t\tform: {\r\n\t\t\t\tfrom: 'uniForm',\r\n\t\t\t\tdefault: null\r\n\t\t\t},\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\t// 表单校验规则\r\n\t\t\trules: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 表单域的属性名，在使用校验规则时必填\r\n\t\t\tname: {\r\n\t\t\t\ttype: [String, Array],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\trequired: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tlabel: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// label的宽度 ，默认 80\r\n\t\t\tlabelWidth: {\r\n\t\t\t\ttype: [String, Number],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// label 居中方式，默认 left 取值 left/center/right\r\n\t\t\tlabelAlign: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// 强制显示错误信息\r\n\t\t\terrorMessage: {\r\n\t\t\t\ttype: [String, Boolean],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\t// 1.4.0 弃用，统一使用 form 的校验时机\r\n\t\t\t// validateTrigger: {\r\n\t\t\t// \ttype: String,\r\n\t\t\t// \tdefault: ''\r\n\t\t\t// },\r\n\t\t\t// 1.4.0 弃用，统一使用 form 的label 位置\r\n\t\t\t// labelPosition: {\r\n\t\t\t// \ttype: String,\r\n\t\t\t// \tdefault: ''\r\n\t\t\t// },\r\n\t\t\t// 1.4.0 以下属性已经废弃，请使用  #label 插槽代替\r\n\t\t\tleftIcon: String,\r\n\t\t\ticonColor: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '#606266'\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\terrMsg: '',\r\n\t\t\t\tuserRules: null,\r\n\t\t\t\tlocalLabelAlign: 'left',\r\n\t\t\t\tlocalLabelWidth: '65px',\r\n\t\t\t\tlocalLabelPos: 'left',\r\n\t\t\t\tborder: false,\r\n\t\t\t\tisFirstBorder: false,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 处理错误信息\r\n\t\t\tmsg() {\r\n\t\t\t\treturn this.errorMessage || this.errMsg;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 规则发生变化通知子组件更新\r\n\t\t\t'form.formRules'(val) {\r\n\t\t\t\t// TODO 处理头条vue3 watch不生效的问题\r\n\t\t\t\t// #ifndef MP-TOUTIAO\r\n\t\t\t\tthis.init()\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\t'form.labelWidth'(val) {\r\n\t\t\t\t// 宽度\r\n\t\t\t\tthis.localLabelWidth = this._labelWidthUnit(val)\r\n\r\n\t\t\t},\r\n\t\t\t'form.labelPosition'(val) {\r\n\t\t\t\t// 标签位置\r\n\t\t\t\tthis.localLabelPos = this._labelPosition()\r\n\t\t\t},\r\n\t\t\t'form.labelAlign'(val) {\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.init(true)\r\n\t\t\tif (this.name && this.form) {\r\n\t\t\t\t// TODO 处理头条vue3 watch不生效的问题\r\n\t\t\t\t// #ifdef MP-TOUTIAO\r\n\t\t\t\tthis.$watch('form.formRules', () => {\r\n\t\t\t\t\tthis.init()\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// 监听变化\r\n\t\t\t\tthis.$watch(\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tconst val = this.form._getDataValue(this.name, this.form.localData)\r\n\t\t\t\t\t\treturn val\r\n\t\t\t\t\t},\r\n\t\t\t\t\t(value, oldVal) => {\r\n\t\t\t\t\t\tconst isEqual = this.form._isEqual(value, oldVal)\r\n\t\t\t\t\t\t// 简单判断前后值的变化，只有发生变化才会发生校验\r\n\t\t\t\t\t\t// TODO  如果 oldVal = undefined ，那么大概率是源数据里没有值导致 ，这个情况不哦校验 ,可能不严谨 ，需要在做观察\r\n\t\t\t\t\t\t// fix by mehaotian 暂时取消 && oldVal !== undefined ，如果formData 中不存在，可能会不校验\r\n\t\t\t\t\t\tif (!isEqual) {\r\n\t\t\t\t\t\t\tconst val = this.itemSetValue(value)\r\n\t\t\t\t\t\t\tthis.onFieldChange(val, false)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\timmediate: false\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t// #ifndef VUE3\r\n\t\tdestroyed() {\r\n\t\t\tif (this.__isUnmounted) return\r\n\t\t\tthis.unInit()\r\n\t\t},\r\n\t\t// #endif\r\n\t\t// #ifdef VUE3\r\n\t\tunmounted() {\r\n\t\t\tthis.__isUnmounted = true\r\n\t\t\tthis.unInit()\r\n\t\t},\r\n\t\t// #endif\r\n\t\tmethods: {\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 设置规则 ，主要用于小程序自定义检验规则\r\n\t\t\t * @param {Array} rules 规则源数据\r\n\t\t\t */\r\n\t\t\tsetRules(rules = null) {\r\n\t\t\t\tthis.userRules = rules\r\n\t\t\t\tthis.init(false)\r\n\t\t\t},\r\n\t\t\t// 兼容老版本表单组件\r\n\t\t\tsetValue() {\r\n\t\t\t\t// console.log('setValue 方法已经弃用，请使用最新版本的 uni-forms 表单组件以及其他关联组件。');\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 外部调用方法\r\n\t\t\t * 校验数据\r\n\t\t\t * @param {any} value 需要校验的数据\r\n\t\t\t * @param {boolean} 是否立即校验\r\n\t\t\t * @return {Array|null} 校验内容\r\n\t\t\t */\r\n\t\t\tasync onFieldChange(value, formtrigger = true) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tformData,\r\n\t\t\t\t\tlocalData,\r\n\t\t\t\t\terrShowType,\r\n\t\t\t\t\tvalidateCheck,\r\n\t\t\t\t\tvalidateTrigger,\r\n\t\t\t\t\t_isRequiredField,\r\n\t\t\t\t\t_realName\r\n\t\t\t\t} = this.form\r\n\t\t\t\tconst name = _realName(this.name)\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\tvalue = this.form.formData[name]\r\n\t\t\t\t}\r\n\t\t\t\t// fixd by mehaotian 不在校验前清空信息，解决闪屏的问题\r\n\t\t\t\t// this.errMsg = '';\r\n\r\n\t\t\t\t// fix by mehaotian 解决没有检验规则的情况下，抛出错误的问题\r\n\t\t\t\tconst ruleLen = this.itemRules.rules && this.itemRules.rules.length\r\n\t\t\t\tif (!this.validator || !ruleLen || ruleLen === 0) return;\r\n\r\n\t\t\t\t// 检验时机\r\n\t\t\t\t// let trigger = this.isTrigger(this.itemRules.validateTrigger, this.validateTrigger, validateTrigger);\r\n\t\t\t\tconst isRequiredField = _isRequiredField(this.itemRules.rules || []);\r\n\t\t\t\tlet result = null;\r\n\t\t\t\t// 只有等于 bind 时 ，才能开启时实校验\r\n\t\t\t\tif (validateTrigger === 'bind' || formtrigger) {\r\n\t\t\t\t\t// 校验当前表单项\r\n\t\t\t\t\tresult = await this.validator.validateUpdate({\r\n\t\t\t\t\t\t\t[name]: value\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tformData\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\t// 判断是否必填,非必填，不填不校验，填写才校验 ,暂时只处理 undefined  和空的情况\r\n\t\t\t\t\tif (!isRequiredField && (value === undefined || value === '')) {\r\n\t\t\t\t\t\tresult = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 判断错误信息显示类型\r\n\t\t\t\t\tif (result && result.errorMessage) {\r\n\t\t\t\t\t\tif (errShowType === 'undertext') {\r\n\t\t\t\t\t\t\t// 获取错误信息\r\n\t\t\t\t\t\t\tthis.errMsg = !result ? '' : result.errorMessage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (errShowType === 'toast') {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: result.errorMessage || '校验错误',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (errShowType === 'modal') {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: result.errorMessage || '校验错误'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errMsg = ''\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 通知 form 组件更新事件\r\n\t\t\t\t\tvalidateCheck(result ? result : null)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errMsg = ''\r\n\t\t\t\t}\r\n\t\t\t\treturn result ? result : null;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 初始组件数据\r\n\t\t\t */\r\n\t\t\tinit(type = false) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tvalidator,\r\n\t\t\t\t\tformRules,\r\n\t\t\t\t\tchildrens,\r\n\t\t\t\t\tformData,\r\n\t\t\t\t\tlocalData,\r\n\t\t\t\t\t_realName,\r\n\t\t\t\t\tlabelWidth,\r\n\t\t\t\t\t_getDataValue,\r\n\t\t\t\t\t_setDataValue\r\n\t\t\t\t} = this.form || {}\r\n\t\t\t\t// 对齐方式\r\n\t\t\t\tthis.localLabelAlign = this._justifyContent()\r\n\t\t\t\t// 宽度\r\n\t\t\t\tthis.localLabelWidth = this._labelWidthUnit(labelWidth)\r\n\t\t\t\t// 标签位置\r\n\t\t\t\tthis.localLabelPos = this._labelPosition()\r\n\t\t\t\t// 将需要校验的子组件加入form 队列\r\n\t\t\t\tthis.form && type && childrens.push(this)\r\n\r\n\t\t\t\tif (!validator || !formRules) return\r\n\t\t\t\t// 判断第一个 item\r\n\t\t\t\tif (!this.form.isFirstBorder) {\r\n\t\t\t\t\tthis.form.isFirstBorder = true;\r\n\t\t\t\t\tthis.isFirstBorder = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 判断 group 里的第一个 item\r\n\t\t\t\tif (this.group) {\r\n\t\t\t\t\tif (!this.group.isFirstBorder) {\r\n\t\t\t\t\t\tthis.group.isFirstBorder = true;\r\n\t\t\t\t\t\tthis.isFirstBorder = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.border = this.form.border;\r\n\t\t\t\t// 获取子域的真实名称\r\n\t\t\t\tconst name = _realName(this.name)\r\n\t\t\t\tconst itemRule = this.userRules || this.rules\r\n\t\t\t\tif (typeof formRules === 'object' && itemRule) {\r\n\t\t\t\t\t// 子规则替换父规则\r\n\t\t\t\t\tformRules[name] = {\r\n\t\t\t\t\t\trules: itemRule\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalidator.updateSchema(formRules);\r\n\t\t\t\t}\r\n\t\t\t\t// 注册校验规则\r\n\t\t\t\tconst itemRules = formRules[name] || {}\r\n\t\t\t\tthis.itemRules = itemRules\r\n\t\t\t\t// 注册校验函数\r\n\t\t\t\tthis.validator = validator\r\n\t\t\t\t// 默认值赋予\r\n\t\t\t\tthis.itemSetValue(_getDataValue(this.name, localData))\r\n\t\t\t},\r\n\t\t\tunInit() {\r\n\t\t\t\tif (this.form) {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tchildrens,\r\n\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\t_realName\r\n\t\t\t\t\t} = this.form\r\n\t\t\t\t\tchildrens.forEach((item, index) => {\r\n\t\t\t\t\t\tif (item === this) {\r\n\t\t\t\t\t\t\tthis.form.childrens.splice(index, 1)\r\n\t\t\t\t\t\t\tdelete formData[_realName(item.name)]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 设置item 的值\r\n\t\t\titemSetValue(value) {\r\n\t\t\t\tconst name = this.form._realName(this.name)\r\n\t\t\t\tconst rules = this.itemRules.rules || []\r\n\t\t\t\tconst val = this.form._getValue(name, value, rules)\r\n\t\t\t\tthis.form._setDataValue(name, this.form.formData, val)\r\n\t\t\t\treturn val\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 移除该表单项的校验结果\r\n\t\t\t */\r\n\t\t\tclearValidate() {\r\n\t\t\t\tthis.errMsg = '';\r\n\t\t\t},\r\n\r\n\t\t\t// 是否显示星号\r\n\t\t\t_isRequired() {\r\n\t\t\t\t// TODO 不根据规则显示 星号，考虑后续兼容\r\n\t\t\t\t// if (this.form) {\r\n\t\t\t\t// \tif (this.form._isRequiredField(this.itemRules.rules || []) && this.required) {\r\n\t\t\t\t// \t\treturn true\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \treturn false\r\n\t\t\t\t// }\r\n\t\t\t\treturn this.required\r\n\t\t\t},\r\n\r\n\t\t\t// 处理对齐方式\r\n\t\t\t_justifyContent() {\r\n\t\t\t\tif (this.form) {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tlabelAlign\r\n\t\t\t\t\t} = this.form\r\n\t\t\t\t\tlet labelAli = this.labelAlign ? this.labelAlign : labelAlign;\r\n\t\t\t\t\tif (labelAli === 'left') return 'flex-start';\r\n\t\t\t\t\tif (labelAli === 'center') return 'center';\r\n\t\t\t\t\tif (labelAli === 'right') return 'flex-end';\r\n\t\t\t\t}\r\n\t\t\t\treturn 'flex-start';\r\n\t\t\t},\r\n\t\t\t// 处理 label宽度单位 ,继承父元素的值\r\n\t\t\t_labelWidthUnit(labelWidth) {\r\n\r\n\t\t\t\t// if (this.form) {\r\n\t\t\t\t// \tconst {\r\n\t\t\t\t// \t\tlabelWidth\r\n\t\t\t\t// \t} = this.form\r\n\t\t\t\treturn this.num2px(this.labelWidth ? this.labelWidth : (labelWidth || (this.label ? 65 : 'auto')))\r\n\t\t\t\t// }\r\n\t\t\t\t// return '65px'\r\n\t\t\t},\r\n\t\t\t// 处理 label 位置\r\n\t\t\t_labelPosition() {\r\n\t\t\t\tif (this.form) return this.form.labelPosition || 'left'\r\n\t\t\t\treturn 'left'\r\n\r\n\t\t\t},\r\n\r\n\t\t\t/**\r\n\t\t\t * 触发时机\r\n\t\t\t * @param {Object} rule 当前规则内时机\r\n\t\t\t * @param {Object} itemRlue 当前组件时机\r\n\t\t\t * @param {Object} parentRule 父组件时机\r\n\t\t\t */\r\n\t\t\tisTrigger(rule, itemRlue, parentRule) {\r\n\t\t\t\t//  bind  submit\r\n\t\t\t\tif (rule === 'submit' || !rule) {\r\n\t\t\t\t\tif (rule === undefined) {\r\n\t\t\t\t\t\tif (itemRlue !== 'bind') {\r\n\t\t\t\t\t\t\tif (!itemRlue) {\r\n\t\t\t\t\t\t\t\treturn parentRule === '' ? 'bind' : 'submit';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn 'submit';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 'bind';\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 'submit';\r\n\t\t\t\t}\r\n\t\t\t\treturn 'bind';\r\n\t\t\t},\r\n\t\t\tnum2px(num) {\r\n\t\t\t\tif (typeof num === 'number') {\r\n\t\t\t\t\treturn `${num}px`\r\n\t\t\t\t}\r\n\t\t\t\treturn num\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.uni-forms-item {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\t/* #ifdef APP-NVUE */\r\n\t\t// 在 nvue 中，使用 margin-bottom error 信息会被隐藏\r\n\t\tpadding-bottom: 22px;\r\n\t\t/* #endif */\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tmargin-bottom: 22px;\r\n\t\t/* #endif */\r\n\t\tflex-direction: row;\r\n\r\n\t\t&__label {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\ttext-align: left;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: #606266;\r\n\t\t\theight: 36px;\r\n\t\t\tpadding: 0 12px 0 0;\r\n\t\t\t/* #ifndef APP-NVUE */\r\n\t\t\tvertical-align: middle;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\t/* #endif */\r\n\r\n\t\t\t/* #ifndef APP-NVUE */\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t/* #endif */\r\n\t\t\t&.no-label {\r\n\t\t\t\tpadding: 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&__content {\r\n\t\t\t/* #ifndef MP-TOUTIAO */\r\n\t\t\t// display: flex;\r\n\t\t\t// align-items: center;\r\n\t\t\t/* #endif */\r\n\t\t\tposition: relative;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tflex: 1;\r\n\t\t\t/* #ifndef APP-NVUE */\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\t/* #endif */\r\n\t\t\tflex-direction: row;\r\n\r\n\t\t\t/* #ifndef APP || H5 || MP-WEIXIN || APP-NVUE */\r\n\t\t\t// TODO 因为小程序平台会多一层标签节点 ，所以需要在多余节点继承当前样式\r\n\t\t\t&>uni-easyinput,\r\n\t\t\t&>uni-data-picker {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t/* #endif */\r\n\r\n\t\t}\r\n\r\n\t\t& .uni-forms-item__nuve-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\r\n\t\t&__error {\r\n\t\t\tcolor: #f56c6c;\r\n\t\t\tfont-size: 12px;\r\n\t\t\tline-height: 1;\r\n\t\t\tpadding-top: 4px;\r\n\t\t\tposition: absolute;\r\n\t\t\t/* #ifndef APP-NVUE */\r\n\t\t\ttop: 100%;\r\n\t\t\tleft: 0;\r\n\t\t\ttransition: transform 0.3s;\r\n\t\t\ttransform: translateY(-100%);\r\n\t\t\t/* #endif */\r\n\t\t\t/* #ifdef APP-NVUE */\r\n\t\t\tbottom: 5px;\r\n\t\t\t/* #endif */\r\n\r\n\t\t\topacity: 0;\r\n\r\n\t\t\t.error-text {\r\n\t\t\t\t// 只有 nvue 下这个样式才生效\r\n\t\t\t\tcolor: #f56c6c;\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t}\r\n\r\n\t\t\t&.msg--active {\r\n\t\t\t\topacity: 1;\r\n\t\t\t\ttransform: translateY(0%);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 位置修饰样式\r\n\t\t&.is-direction-left {\r\n\t\t\tflex-direction: row;\r\n\t\t}\r\n\r\n\t\t&.is-direction-top {\r\n\t\t\tflex-direction: column;\r\n\r\n\t\t\t.uni-forms-item__label {\r\n\t\t\t\tpadding: 0 0 8px;\r\n\t\t\t\tline-height: 1.5715;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t\t/* #ifndef APP-NVUE */\r\n\t\t\t\twhite-space: initial;\r\n\t\t\t\t/* #endif */\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.is-required {\r\n\t\t\t// color: $uni-color-error;\r\n\t\t\tcolor: #dd524d;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t.uni-forms-item--border {\r\n\t\tmargin-bottom: 0;\r\n\t\tpadding: 10px 0;\r\n\t\t// padding-bottom: 0;\r\n\t\tborder-top: 1px #eee solid;\r\n\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\t.uni-forms-item__content {\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\talign-items: flex-start;\r\n\r\n\t\t\t.uni-forms-item__error {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\ttop: 5px;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tpadding-top: 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/* #endif */\r\n\r\n\t\t/* #ifdef APP-NVUE */\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.uni-forms-item__error {\r\n\t\t\tposition: relative;\r\n\t\t\ttop: 0px;\r\n\t\t\tleft: 0;\r\n\t\t\tpadding-top: 0;\r\n\t\t\tmargin-top: 5px;\r\n\t\t}\r\n\r\n\t\t/* #endif */\r\n\r\n\t}\r\n\r\n\t.is-first-border {\r\n\t\t/* #ifndef APP-NVUE */\r\n\t\tborder: none;\r\n\t\t/* #endif */\r\n\t\t/* #ifdef APP-NVUE */\r\n\t\tborder-width: 0;\r\n\t\t/* #endif */\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms-item.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-forms-item.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683866506367\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./uni-easyinput.vue?vue&type=template&id=abe12412&\"\nvar renderjs\nimport script from \"./uni-easyinput.vue?vue&type=script&lang=js&\"\nexport * from \"./uni-easyinput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./uni-easyinput.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-easyinput.vue?vue&type=template&id=abe12412&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-easyinput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-easyinput.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"uni-easyinput\" :class=\"{ 'uni-easyinput-error': msg }\" :style=\"boxStyle\">\r\n\t\t<view class=\"uni-easyinput__content\" :class=\"inputContentClass\" :style=\"inputContentStyle\">\r\n\t\t\t<uni-icons v-if=\"prefixIcon\" class=\"content-clear-icon\" :type=\"prefixIcon\" color=\"#c0c4cc\" @click=\"onClickIcon('prefix')\" size=\"22\"></uni-icons>\r\n\t\t\t<textarea\r\n\t\t\t\tv-if=\"type === 'textarea'\"\r\n\t\t\t\tclass=\"uni-easyinput__content-textarea\"\r\n\t\t\t\t:class=\"{ 'input-padding': inputBorder }\"\r\n\t\t\t\t:name=\"name\"\r\n\t\t\t\t:value=\"val\"\r\n\t\t\t\t:placeholder=\"placeholder\"\r\n\t\t\t\t:placeholderStyle=\"placeholderStyle\"\r\n\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\tplaceholder-class=\"uni-easyinput__placeholder-class\"\r\n\t\t\t\t:maxlength=\"inputMaxlength\"\r\n\t\t\t\t:focus=\"focused\"\r\n\t\t\t\t:autoHeight=\"autoHeight\"\r\n\t\t\t\t:cursor-spacing=\"cursorSpacing\"\r\n\t\t\t\t@input=\"onInput\"\r\n\t\t\t\t@blur=\"_Blur\"\r\n\t\t\t\t@focus=\"_Focus\"\r\n\t\t\t\t@confirm=\"onConfirm\"\r\n        @keyboardheightchange=\"onkeyboardheightchange\"\r\n\t\t\t></textarea>\r\n\t\t\t<input\r\n\t\t\t\tv-else\r\n\t\t\t\t:type=\"type === 'password' ? 'text' : type\"\r\n\t\t\t\tclass=\"uni-easyinput__content-input\"\r\n\t\t\t\t:style=\"inputStyle\"\r\n\t\t\t\t:name=\"name\"\r\n\t\t\t\t:value=\"val\"\r\n\t\t\t\t:password=\"!showPassword && type === 'password'\"\r\n\t\t\t\t:placeholder=\"placeholder\"\r\n\t\t\t\t:placeholderStyle=\"placeholderStyle\"\r\n\t\t\t\tplaceholder-class=\"uni-easyinput__placeholder-class\"\r\n\t\t\t\t:disabled=\"disabled\"\r\n\t\t\t\t:maxlength=\"inputMaxlength\"\r\n\t\t\t\t:focus=\"focused\"\r\n\t\t\t\t:confirmType=\"confirmType\"\r\n\t\t\t\t:cursor-spacing=\"cursorSpacing\"\r\n\t\t\t\t@focus=\"_Focus\"\r\n\t\t\t\t@blur=\"_Blur\"\r\n\t\t\t\t@input=\"onInput\"\r\n\t\t\t\t@confirm=\"onConfirm\"\r\n        @keyboardheightchange=\"onkeyboardheightchange\"\r\n\t\t\t/>\r\n\t\t\t<template v-if=\"type === 'password' && passwordIcon\">\r\n\t\t\t\t<!-- 开启密码时显示小眼睛 -->\r\n\t\t\t\t<uni-icons\r\n\t\t\t\t\tv-if=\"isVal\"\r\n\t\t\t\t\tclass=\"content-clear-icon\"\r\n\t\t\t\t\t:class=\"{ 'is-textarea-icon': type === 'textarea' }\"\r\n\t\t\t\t\t:type=\"showPassword ? 'eye-slash-filled' : 'eye-filled'\"\r\n\t\t\t\t\t:size=\"22\"\r\n\t\t\t\t\t:color=\"focusShow ? primaryColor : '#c0c4cc'\"\r\n\t\t\t\t\t@click=\"onEyes\"\r\n\t\t\t\t></uni-icons>\r\n\t\t\t</template>\r\n\t\t\t<template v-else-if=\"suffixIcon\">\r\n\t\t\t\t<uni-icons v-if=\"suffixIcon\" class=\"content-clear-icon\" :type=\"suffixIcon\" color=\"#c0c4cc\" @click=\"onClickIcon('suffix')\" size=\"22\"></uni-icons>\r\n\t\t\t</template>\r\n\t\t\t<template v-else>\r\n\t\t\t\t<uni-icons\r\n\t\t\t\t\tv-if=\"clearable && isVal && !disabled && type !== 'textarea'\"\r\n\t\t\t\t\tclass=\"content-clear-icon\"\r\n\t\t\t\t\t:class=\"{ 'is-textarea-icon': type === 'textarea' }\"\r\n\t\t\t\t\ttype=\"clear\"\r\n\t\t\t\t\t:size=\"clearSize\"\r\n\t\t\t\t\t:color=\"msg ? '#dd524d' : focusShow ? primaryColor : '#c0c4cc'\"\r\n\t\t\t\t\t@click=\"onClear\"\r\n\t\t\t\t></uni-icons>\r\n\t\t\t</template>\r\n\t\t\t<slot name=\"right\"></slot>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * Easyinput 输入框\r\n * @description 此组件可以实现表单的输入与校验，包括 \"text\" 和 \"textarea\" 类型。\r\n * @tutorial https://ext.dcloud.net.cn/plugin?id=3455\r\n * @property {String}\tvalue\t输入内容\r\n * @property {String }\ttype\t输入框的类型（默认text） password/text/textarea/..\r\n * \t@value text\t\t\t文本输入键盘\r\n * \t@value textarea\t多行文本输入键盘\r\n * \t@value password\t密码输入键盘\r\n * \t@value number\t\t数字输入键盘，注意iOS上app-vue弹出的数字键盘并非9宫格方式\r\n * \t@value idcard\t\t身份证输入键盘，信、支付宝、百度、QQ小程序\r\n * \t@value digit\t\t带小数点的数字键盘\t，App的nvue页面、微信、支付宝、百度、头条、QQ小程序支持\r\n * @property {Boolean}\tclearable\t是否显示右侧清空内容的图标控件，点击可清空输入框内容（默认true）\r\n * @property {Boolean}\tautoHeight\t是否自动增高输入区域，type为textarea时有效（默认true）\r\n * @property {String }\tplaceholder\t输入框的提示文字\r\n * @property {String }\tplaceholderStyle\tplaceholder的样式(内联样式，字符串)，如\"color: #ddd\"\r\n * @property {Boolean}\tfocus\t是否自动获得焦点（默认false）\r\n * @property {Boolean}\tdisabled\t是否禁用（默认false）\r\n * @property {Number }\tmaxlength\t最大输入长度，设置为 -1 的时候不限制最大长度（默认140）\r\n * @property {String }\tconfirmType\t设置键盘右下角按钮的文字，仅在type=\"text\"时生效（默认done）\r\n * @property {Number }\tclearSize\t清除图标的大小，单位px（默认15）\r\n * @property {String}\tprefixIcon\t输入框头部图标\r\n * @property {String}\tsuffixIcon\t输入框尾部图标\r\n * @property {String}\tprimaryColor\t设置主题色（默认#2979ff）\r\n * @property {Boolean}\ttrim\t是否自动去除两端的空格\r\n * @property {Boolean}\tcursorSpacing\t指定光标与键盘的距离，单位 px\r\n * @value both\t去除两端空格\r\n * @value left\t去除左侧空格\r\n * @value right\t去除右侧空格\r\n * @value start\t去除左侧空格\r\n * @value end\t\t去除右侧空格\r\n * @value all\t\t去除全部空格\r\n * @value none\t不去除空格\r\n * @property {Boolean}\tinputBorder\t是否显示input输入框的边框（默认true）\r\n * @property {Boolean}\tpasswordIcon\ttype=password时是否显示小眼睛图标\r\n * @property {Object}\tstyles\t自定义颜色\r\n * @event {Function}\tinput\t输入框内容发生变化时触发\r\n * @event {Function}\tfocus\t输入框获得焦点时触发\r\n * @event {Function}\tblur\t输入框失去焦点时触发\r\n * @event {Function}\tconfirm\t点击完成按钮时触发\r\n * @event {Function}\ticonClick\t点击图标时触发\r\n * @example <uni-easyinput v-model=\"mobile\"></uni-easyinput>\r\n */\r\nfunction obj2strClass(obj) {\r\n\tlet classess = '';\r\n\tfor (let key in obj) {\r\n\t\tconst val = obj[key];\r\n\t\tif (val) {\r\n\t\t\tclassess += `${key} `;\r\n\t\t}\r\n\t}\r\n\treturn classess;\r\n}\r\n\r\nfunction obj2strStyle(obj) {\r\n\tlet style = '';\r\n\tfor (let key in obj) {\r\n\t\tconst val = obj[key];\r\n\t\tstyle += `${key}:${val};`;\r\n\t}\r\n\treturn style;\r\n}\r\nexport default {\r\n\tname: 'uni-easyinput',\r\n\temits: ['click', 'iconClick', 'update:modelValue', 'input', 'focus', 'blur', 'confirm', 'clear', 'eyes', 'change', 'keyboardheightchange'],\r\n\tmodel: {\r\n\t\tprop: 'modelValue',\r\n\t\tevent: 'update:modelValue'\r\n\t},\r\n\toptions: {\r\n\t\tvirtualHost: true\r\n\t},\r\n\tinject: {\r\n\t\tform: {\r\n\t\t\tfrom: 'uniForm',\r\n\t\t\tdefault: null\r\n\t\t},\r\n\t\tformItem: {\r\n\t\t\tfrom: 'uniFormItem',\r\n\t\t\tdefault: null\r\n\t\t}\r\n\t},\r\n\tprops: {\r\n\t\tname: String,\r\n\t\tvalue: [Number, String],\r\n\t\tmodelValue: [Number, String],\r\n\t\ttype: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'text'\r\n\t\t},\r\n\t\tclearable: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tautoHeight: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ' '\r\n\t\t},\r\n\t\tplaceholderStyle: String,\r\n\t\tfocus: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tdisabled: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tmaxlength: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: 140\r\n\t\t},\r\n\t\tconfirmType: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: 'done'\r\n\t\t},\r\n\t\tclearSize: {\r\n\t\t\ttype: [Number, String],\r\n\t\t\tdefault: 24\r\n\t\t},\r\n\t\tinputBorder: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tprefixIcon: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\tsuffixIcon: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: ''\r\n\t\t},\r\n\t\ttrim: {\r\n\t\t\ttype: [Boolean, String],\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tcursorSpacing: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 0\r\n\t\t},\r\n\t\tpasswordIcon: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true\r\n\t\t},\r\n\t\tprimaryColor: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '#2979ff'\r\n\t\t},\r\n\t\tstyles: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tcolor: '#333',\r\n\t\t\t\t\tbackgroundColor: '#fff',\r\n\t\t\t\t\tdisableColor: '#F7F6F6',\r\n\t\t\t\t\tborderColor: '#e5e5e5'\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\terrorMessage: {\r\n\t\t\ttype: [String, Boolean],\r\n\t\t\tdefault: ''\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tfocused: false,\r\n\t\t\tval: '',\r\n\t\t\tshowMsg: '',\r\n\t\t\tborder: false,\r\n\t\t\tisFirstBorder: false,\r\n\t\t\tshowClearIcon: false,\r\n\t\t\tshowPassword: false,\r\n\t\t\tfocusShow: false,\r\n\t\t\tlocalMsg: '',\r\n\t\t\tisEnter: false // 用于判断当前是否是使用回车操作\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\t// 输入框内是否有值\r\n\t\tisVal() {\r\n\t\t\tconst val = this.val;\r\n\t\t\t// fixed by mehaotian 处理值为0的情况，字符串0不在处理范围\r\n\t\t\tif (val || val === 0) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tmsg() {\r\n\t\t\t// console.log('computed', this.form, this.formItem);\r\n\t\t\t// if (this.form) {\r\n\t\t\t// \treturn this.errorMessage || this.formItem.errMsg;\r\n\t\t\t// }\r\n\t\t\t// TODO 处理头条 formItem 中 errMsg 不更新的问题\r\n\t\t\treturn this.localMsg || this.errorMessage;\r\n\t\t},\r\n\t\t// 因为uniapp的input组件的maxlength组件必须要数值，这里转为数值，用户可以传入字符串数值\r\n\t\tinputMaxlength() {\r\n\t\t\treturn Number(this.maxlength);\r\n\t\t},\r\n\r\n\t\t// 处理外层样式的style\r\n\t\tboxStyle() {\r\n\t\t\treturn `color:${this.inputBorder && this.msg ? '#e43d33' : this.styles.color};`;\r\n\t\t},\r\n\t\t// input 内容的类和样式处理\r\n\t\tinputContentClass() {\r\n\t\t\treturn obj2strClass({\r\n\t\t\t\t'is-input-border': this.inputBorder,\r\n\t\t\t\t'is-input-error-border': this.inputBorder && this.msg,\r\n\t\t\t\t'is-textarea': this.type === 'textarea',\r\n\t\t\t\t'is-disabled': this.disabled,\r\n\t\t\t\t'is-focused': this.focusShow\r\n\t\t\t});\r\n\t\t},\r\n\t\tinputContentStyle() {\r\n\t\t\tconst focusColor = this.focusShow ? this.primaryColor : this.styles.borderColor;\r\n\t\t\tconst borderColor = this.inputBorder && this.msg ? '#dd524d' : focusColor;\r\n\t\t\treturn obj2strStyle({\r\n\t\t\t\t'border-color': borderColor || '#e5e5e5',\r\n\t\t\t\t'background-color': this.disabled ? this.styles.disableColor : this.styles.backgroundColor\r\n\t\t\t});\r\n\t\t},\r\n\t\t// input右侧样式\r\n\t\tinputStyle() {\r\n\t\t\tconst paddingRight = this.type === 'password' || this.clearable || this.prefixIcon ? '' : '10px';\r\n\t\t\treturn obj2strStyle({\r\n\t\t\t\t'padding-right': paddingRight,\r\n\t\t\t\t'padding-left': this.prefixIcon ? '' : '10px'\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tvalue(newVal) {\r\n\t\t\tthis.val = newVal;\r\n\t\t},\r\n\t\tmodelValue(newVal) {\r\n\t\t\tthis.val = newVal;\r\n\t\t},\r\n\t\tfocus(newVal) {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.focused = this.focus;\r\n\t\t\t\tthis.focusShow = this.focus;\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.init();\r\n\t\t// TODO 处理头条vue3 computed 不监听 inject 更改的问题（formItem.errMsg）\r\n\t\tif (this.form && this.formItem) {\r\n\t\t\tthis.$watch('formItem.errMsg', newVal => {\r\n\t\t\t\tthis.localMsg = newVal;\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.focused = this.focus;\r\n\t\t\tthis.focusShow = this.focus;\r\n\t\t});\r\n\t},\r\n\tmethods: {\r\n\t\t/**\r\n\t\t * 初始化变量值\r\n\t\t */\r\n\t\tinit() {\r\n\t\t\tif (this.value || this.value === 0) {\r\n\t\t\t\tthis.val = this.value;\r\n\t\t\t} else if (this.modelValue || this.modelValue === 0 || this.modelValue === '') {\r\n\t\t\t\tthis.val = this.modelValue;\r\n\t\t\t} else {\r\n\t\t\t\tthis.val = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 点击图标时触发\r\n\t\t * @param {Object} type\r\n\t\t */\r\n\t\tonClickIcon(type) {\r\n\t\t\tthis.$emit('iconClick', type);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 显示隐藏内容，密码框时生效\r\n\t\t */\r\n\t\tonEyes() {\r\n\t\t\tthis.showPassword = !this.showPassword;\r\n\t\t\tthis.$emit('eyes', this.showPassword);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 输入时触发\r\n\t\t * @param {Object} event\r\n\t\t */\r\n\t\tonInput(event) {\r\n\t\t\tlet value = event.detail.value;\r\n\t\t\t// 判断是否去除空格\r\n\t\t\tif (this.trim) {\r\n\t\t\t\tif (typeof this.trim === 'boolean' && this.trim) {\r\n\t\t\t\t\tvalue = this.trimStr(value);\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof this.trim === 'string') {\r\n\t\t\t\t\tvalue = this.trimStr(value, this.trim);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.errMsg) this.errMsg = '';\r\n\t\t\tthis.val = value;\r\n\t\t\t// TODO 兼容 vue2\r\n\t\t\tthis.$emit('input', value);\r\n\t\t\t// TODO　兼容　vue3\r\n\t\t\tthis.$emit('update:modelValue', value);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 外部调用方法\r\n\t\t * 获取焦点时触发\r\n\t\t * @param {Object} event\r\n\t\t */\r\n\t\tonFocus() {\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.focused = true;\r\n\t\t\t});\r\n\t\t\tthis.$emit('focus', null);\r\n\t\t},\r\n\r\n\t\t_Focus(event) {\r\n\t\t\tthis.focusShow = true;\r\n\t\t\tthis.$emit('focus', event);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 外部调用方法\r\n\t\t * 失去焦点时触发\r\n\t\t * @param {Object} event\r\n\t\t */\r\n\t\tonBlur() {\r\n\t\t\tthis.focused = false;\r\n\t\t\tthis.$emit('focus', null);\r\n\t\t},\r\n\t\t_Blur(event) {\r\n\t\t\tlet value = event.detail.value;\r\n\t\t\tthis.focusShow = false;\r\n\t\t\tthis.$emit('blur', event);\r\n\t\t\t// 根据类型返回值，在event中获取的值理论上讲都是string\r\n\t\t\tif (this.isEnter === false) {\r\n\t\t\t\tthis.$emit('change', this.val);\r\n\t\t\t}\r\n\t\t\t// 失去焦点时参与表单校验\r\n\t\t\tif (this.form && this.formItem) {\r\n\t\t\t\tconst { validateTrigger } = this.form;\r\n\t\t\t\tif (validateTrigger === 'blur') {\r\n\t\t\t\t\tthis.formItem.onFieldChange();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 按下键盘的发送键\r\n\t\t * @param {Object} e\r\n\t\t */\r\n\t\tonConfirm(e) {\r\n\t\t\tthis.$emit('confirm', this.val);\r\n\t\t\tthis.isEnter = true;\r\n\t\t\tthis.$emit('change', this.val);\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tthis.isEnter = false;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 清理内容\r\n\t\t * @param {Object} event\r\n\t\t */\r\n\t\tonClear(event) {\r\n\t\t\tthis.val = '';\r\n\t\t\t// TODO 兼容 vue2\r\n\t\t\tthis.$emit('input', '');\r\n\t\t\t// TODO 兼容 vue2\r\n\t\t\t// TODO　兼容　vue3\r\n\t\t\tthis.$emit('update:modelValue', '');\r\n\t\t\t// 点击叉号触发\r\n\t\t\tthis.$emit('clear');\r\n\t\t},\r\n\r\n    /**\r\n     * 键盘高度发生变化的时候触发此事件\r\n     * 兼容性：微信小程序2.7.0+、App 3.1.0+\r\n     * @param {Object} event\r\n     */\r\n    onkeyboardheightchange(event) {\r\n      this.$emit(\"keyboardheightchange\",event);\r\n    },\r\n\r\n\t\t/**\r\n\t\t * 去除空格\r\n\t\t */\r\n\t\ttrimStr(str, pos = 'both') {\r\n\t\t\tif (pos === 'both') {\r\n\t\t\t\treturn str.trim();\r\n\t\t\t} else if (pos === 'left') {\r\n\t\t\t\treturn str.trimLeft();\r\n\t\t\t} else if (pos === 'right') {\r\n\t\t\t\treturn str.trimRight();\r\n\t\t\t} else if (pos === 'start') {\r\n\t\t\t\treturn str.trimStart();\r\n\t\t\t} else if (pos === 'end') {\r\n\t\t\t\treturn str.trimEnd();\r\n\t\t\t} else if (pos === 'all') {\r\n\t\t\t\treturn str.replace(/\\s+/g, '');\r\n\t\t\t} else if (pos === 'none') {\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t\treturn str;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n$uni-error: #e43d33;\r\n$uni-border-1: #dcdfe6 !default;\r\n\r\n.uni-easyinput {\r\n\t/* #ifndef APP-NVUE */\r\n\twidth: 100%;\r\n\t/* #endif */\r\n\tflex: 1;\r\n\tposition: relative;\r\n\ttext-align: left;\r\n\tcolor: #333;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.uni-easyinput__content {\r\n\tflex: 1;\r\n\t/* #ifndef APP-NVUE */\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tbox-sizing: border-box;\r\n\t// min-height: 36px;\r\n\t/* #endif */\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\t// 处理border动画刚开始显示黑色的问题\r\n\tborder-color: #fff;\r\n\ttransition-property: border-color;\r\n\ttransition-duration: 0.3s;\r\n}\r\n\r\n.uni-easyinput__content-input {\r\n\t/* #ifndef APP-NVUE */\r\n\twidth: auto;\r\n\t/* #endif */\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tflex: 1;\r\n\tline-height: 1;\r\n\tfont-size: 14px;\r\n\theight: 35px;\r\n\t// min-height: 36px;\r\n}\r\n\r\n.uni-easyinput__placeholder-class {\r\n\tcolor: #999;\r\n\tfont-size: 12px;\r\n\t// font-weight: 200;\r\n}\r\n\r\n.is-textarea {\r\n\talign-items: flex-start;\r\n}\r\n\r\n.is-textarea-icon {\r\n\tmargin-top: 5px;\r\n}\r\n\r\n.uni-easyinput__content-textarea {\r\n\tposition: relative;\r\n\toverflow: hidden;\r\n\tflex: 1;\r\n\tline-height: 1.5;\r\n\tfont-size: 14px;\r\n\tmargin: 6px;\r\n\tmargin-left: 0;\r\n\theight: 80px;\r\n\tmin-height: 80px;\r\n\t/* #ifndef APP-NVUE */\r\n\tmin-height: 80px;\r\n\twidth: auto;\r\n\t/* #endif */\r\n}\r\n\r\n.input-padding {\r\n\tpadding-left: 10px;\r\n}\r\n\r\n.content-clear-icon {\r\n\tpadding: 0 5px;\r\n}\r\n\r\n.label-icon {\r\n\tmargin-right: 5px;\r\n\tmargin-top: -1px;\r\n}\r\n\r\n// 显示边框\r\n.is-input-border {\r\n\t/* #ifndef APP-NVUE */\r\n\tdisplay: flex;\r\n\tbox-sizing: border-box;\r\n\t/* #endif */\r\n\tflex-direction: row;\r\n\talign-items: center;\r\n\tborder: 1px solid $uni-border-1;\r\n\tborder-radius: 4px;\r\n\t/* #ifdef MP-ALIPAY */\r\n\toverflow: hidden;\r\n\t/* #endif */\r\n}\r\n\r\n.uni-error-message {\r\n\tposition: absolute;\r\n\tbottom: -17px;\r\n\tleft: 0;\r\n\tline-height: 12px;\r\n\tcolor: $uni-error;\r\n\tfont-size: 12px;\r\n\ttext-align: left;\r\n}\r\n\r\n.uni-error-msg--boeder {\r\n\tposition: relative;\r\n\tbottom: 0;\r\n\tline-height: 22px;\r\n}\r\n\r\n.is-input-error-border {\r\n\tborder-color: $uni-error;\r\n\r\n\t.uni-easyinput__placeholder-class {\r\n\t\tcolor: mix(#fff, $uni-error, 50%);\r\n\t}\r\n}\r\n\r\n.uni-easyinput--border {\r\n\tmargin-bottom: 0;\r\n\tpadding: 10px 15px;\r\n\t// padding-bottom: 0;\r\n\tborder-top: 1px #eee solid;\r\n}\r\n\r\n.uni-easyinput-error {\r\n\tpadding-bottom: 0;\r\n}\r\n\r\n.is-first-border {\r\n\t/* #ifndef APP-NVUE */\r\n\tborder: none;\r\n\t/* #endif */\r\n\t/* #ifdef APP-NVUE */\r\n\tborder-width: 0;\r\n\t/* #endif */\r\n}\r\n\r\n.is-disabled {\r\n\tbackground-color: #f7f6f6;\r\n\tcolor: #d5d5d5;\r\n\r\n\t.uni-easyinput__placeholder-class {\r\n\t\tcolor: #d5d5d5;\r\n\t\tfont-size: 12px;\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-easyinput.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./uni-easyinput.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683866506629\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./auditTeacher.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./auditTeacher.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683866507242\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}